{"version":3,"sources":["input/TextArea.jsx"],"names":["React","ClearableLabeledInput","ResizableTextArea","ConfigConsumer","fixControlledValue","resolveOnChange","TextArea","props","focus","resizableTextArea","textArea","saveTextArea","saveClearableInput","clearableInput","handleChange","e","setValue","target","value","resizeTextarea","onChange","handleKeyDown","onPressEnter","onKeyDown","keyCode","handleReset","renderTextArea","prefixCls","renderComponent","getPrefixCls","state","customizePrefixCls","defaultValue","callback","setState","blur","nextProps","Component"],"mappings":"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","sourcesContent":["import * as React from 'react';\nimport ClearableLabeledInput from './ClearableLabeledInput';\nimport ResizableTextArea from './ResizableTextArea';\nimport { ConfigConsumer } from '../config-provider';\nimport { fixControlledValue, resolveOnChange } from './Input';\nclass TextArea extends React.Component {\n    constructor(props) {\n        super(props);\n        this.focus = () => {\n            this.resizableTextArea.textArea.focus();\n        };\n        this.saveTextArea = (resizableTextArea) => {\n            this.resizableTextArea = resizableTextArea;\n        };\n        this.saveClearableInput = (clearableInput) => {\n            this.clearableInput = clearableInput;\n        };\n        this.handleChange = (e) => {\n            this.setValue(e.target.value, () => {\n                this.resizableTextArea.resizeTextarea();\n            });\n            resolveOnChange(this.resizableTextArea.textArea, e, this.props.onChange);\n        };\n        this.handleKeyDown = (e) => {\n            const { onPressEnter, onKeyDown } = this.props;\n            if (e.keyCode === 13 && onPressEnter) {\n                onPressEnter(e);\n            }\n            if (onKeyDown) {\n                onKeyDown(e);\n            }\n        };\n        this.handleReset = (e) => {\n            this.setValue('', () => {\n                this.resizableTextArea.renderTextArea();\n                this.focus();\n            });\n            resolveOnChange(this.resizableTextArea.textArea, e, this.props.onChange);\n        };\n        this.renderTextArea = (prefixCls) => {\n            return (<ResizableTextArea {...this.props} prefixCls={prefixCls} onKeyDown={this.handleKeyDown} onChange={this.handleChange} ref={this.saveTextArea}/>);\n        };\n        this.renderComponent = ({ getPrefixCls }) => {\n            const { value } = this.state;\n            const { prefixCls: customizePrefixCls } = this.props;\n            const prefixCls = getPrefixCls('input', customizePrefixCls);\n            return (<ClearableLabeledInput {...this.props} prefixCls={prefixCls} inputType=\"text\" value={fixControlledValue(value)} element={this.renderTextArea(prefixCls)} handleReset={this.handleReset} ref={this.saveClearableInput} triggerFocus={this.focus}/>);\n        };\n        const value = typeof props.value === 'undefined' ? props.defaultValue : props.value;\n        this.state = {\n            value,\n        };\n    }\n    static getDerivedStateFromProps(nextProps) {\n        if ('value' in nextProps) {\n            return {\n                value: nextProps.value,\n            };\n        }\n        return null;\n    }\n    setValue(value, callback) {\n        if (!('value' in this.props)) {\n            this.setState({ value }, callback);\n        }\n    }\n    blur() {\n        this.resizableTextArea.textArea.blur();\n    }\n    render() {\n        return <ConfigConsumer>{this.renderComponent}</ConfigConsumer>;\n    }\n}\nexport default TextArea;\n"],"file":"TextArea.js"}