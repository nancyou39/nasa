{"version":3,"sources":["tag/index.jsx"],"names":["__rest","s","e","t","p","Object","prototype","hasOwnProperty","call","indexOf","getOwnPropertySymbols","i","length","propertyIsEnumerable","React","classNames","omit","CloseOutlined","CheckableTag","ConfigConsumer","PresetColorTypes","PresetStatusColorTypes","Wave","PresetColorRegex","RegExp","join","PresetStatusColorRegex","Tag","arguments","state","visible","handleIconClick","stopPropagation","setVisible","renderTag","configProps","_a","props","children","otherProps","isNeedWave","type","tagProps","getTagClassName","getTagStyle","renderCloseIcon","color","style","isPresetColor","backgroundColor","undefined","getPrefixCls","direction","customizePrefixCls","prefixCls","className","onClose","defaultPrevented","setState","test","closable","nextProps","Component","defaultProps"],"mappings":"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","sourcesContent":["var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport omit from 'omit.js';\nimport CloseOutlined from '@ant-design/icons/CloseOutlined';\nimport CheckableTag from './CheckableTag';\nimport { ConfigConsumer } from '../config-provider';\nimport { PresetColorTypes, PresetStatusColorTypes } from '../_util/colors';\nimport Wave from '../_util/wave';\nconst PresetColorRegex = new RegExp(`^(${PresetColorTypes.join('|')})(-inverse)?$`);\nconst PresetStatusColorRegex = new RegExp(`^(${PresetStatusColorTypes.join('|')})$`);\nclass Tag extends React.Component {\n    constructor() {\n        super(...arguments);\n        this.state = {\n            visible: true,\n        };\n        this.handleIconClick = (e) => {\n            e.stopPropagation();\n            this.setVisible(false, e);\n        };\n        this.renderTag = (configProps) => {\n            const _a = this.props, { children } = _a, otherProps = __rest(_a, [\"children\"]);\n            const isNeedWave = 'onClick' in otherProps || (children && children.type === 'a');\n            const tagProps = omit(otherProps, ['onClose', 'color', 'visible', 'closable', 'prefixCls']);\n            return isNeedWave ? (<Wave>\n        <span {...tagProps} className={this.getTagClassName(configProps)} style={this.getTagStyle()}>\n          {children}\n          {this.renderCloseIcon()}\n        </span>\n      </Wave>) : (<span {...tagProps} className={this.getTagClassName(configProps)} style={this.getTagStyle()}>\n        {children}\n        {this.renderCloseIcon()}\n      </span>);\n        };\n    }\n    static getDerivedStateFromProps(nextProps) {\n        if ('visible' in nextProps) {\n            return {\n                visible: nextProps.visible,\n            };\n        }\n        return null;\n    }\n    getTagStyle() {\n        const { color, style } = this.props;\n        const isPresetColor = this.isPresetColor();\n        return Object.assign({ backgroundColor: color && !isPresetColor ? color : undefined }, style);\n    }\n    getTagClassName({ getPrefixCls, direction }) {\n        const { prefixCls: customizePrefixCls, className, color } = this.props;\n        const { visible } = this.state;\n        const isPresetColor = this.isPresetColor();\n        const prefixCls = getPrefixCls('tag', customizePrefixCls);\n        return classNames(prefixCls, {\n            [`${prefixCls}-${color}`]: isPresetColor,\n            [`${prefixCls}-has-color`]: color && !isPresetColor,\n            [`${prefixCls}-hidden`]: !visible,\n            [`${prefixCls}-rtl`]: direction === 'rtl',\n        }, className);\n    }\n    setVisible(visible, e) {\n        const { onClose } = this.props;\n        if (onClose) {\n            onClose(e);\n        }\n        if (e.defaultPrevented) {\n            return;\n        }\n        if (!('visible' in this.props)) {\n            this.setState({ visible });\n        }\n    }\n    isPresetColor() {\n        const { color } = this.props;\n        if (!color) {\n            return false;\n        }\n        return PresetColorRegex.test(color) || PresetStatusColorRegex.test(color);\n    }\n    renderCloseIcon() {\n        const { closable } = this.props;\n        return closable ? <CloseOutlined onClick={this.handleIconClick}/> : null;\n    }\n    render() {\n        return <ConfigConsumer>{this.renderTag}</ConfigConsumer>;\n    }\n}\nTag.CheckableTag = CheckableTag;\nTag.defaultProps = {\n    closable: false,\n};\nexport default Tag;\n"],"file":"index.js"}