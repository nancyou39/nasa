{"version":3,"sources":["carousel/index.jsx"],"names":["React","debounce","classNames","ConfigConsumer","SlickCarousel","require","Carousel","props","saveSlick","node","slick","onWindowResized","autoplay","innerSlider","autoPlay","renderCarousel","getPrefixCls","direction","effect","fade","prefixCls","dotsClass","dotPosition","getDotPosition","vertical","className","leading","window","addEventListener","prevProps","Children","count","children","goTo","initialSlide","removeEventListener","cancel","slickNext","slickPrev","slide","dontAnimate","slickGoTo","Component","defaultProps","dots","arrows","draggable"],"mappings":"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","sourcesContent":["import * as React from 'react';\nimport debounce from 'lodash/debounce';\nimport classNames from 'classnames';\nimport { ConfigConsumer } from '../config-provider';\n// Use require over import (will be lifted up)\n// make sure matchMedia polyfill run before require('react-slick')\n// Fix https://github.com/ant-design/ant-design/issues/6560\n// Fix https://github.com/ant-design/ant-design/issues/3308\nconst SlickCarousel = require('@ant-design/react-slick').default;\nexport default class Carousel extends React.Component {\n    constructor(props) {\n        super(props);\n        this.saveSlick = (node) => {\n            this.slick = node;\n        };\n        this.onWindowResized = () => {\n            // Fix https://github.com/ant-design/ant-design/issues/2550\n            const { autoplay } = this.props;\n            if (autoplay && this.slick && this.slick.innerSlider && this.slick.innerSlider.autoPlay) {\n                this.slick.innerSlider.autoPlay();\n            }\n        };\n        this.renderCarousel = ({ getPrefixCls, direction }) => {\n            const props = Object.assign({}, this.props);\n            if (props.effect === 'fade') {\n                props.fade = true;\n            }\n            const prefixCls = getPrefixCls('carousel', props.prefixCls);\n            const dotsClass = 'slick-dots';\n            const dotPosition = this.getDotPosition();\n            props.vertical = dotPosition === 'left' || dotPosition === 'right';\n            props.dotsClass = `${dotsClass} ${dotsClass}-${dotPosition || 'bottom'}`;\n            const className = classNames(prefixCls, {\n                [`${prefixCls}-rtl`]: direction === 'rtl',\n                [`${prefixCls}-vertical`]: props.vertical,\n            });\n            return (<div className={className}>\n        <SlickCarousel ref={this.saveSlick} {...props}/>\n      </div>);\n        };\n        this.onWindowResized = debounce(this.onWindowResized, 500, {\n            leading: false,\n        });\n    }\n    componentDidMount() {\n        const { autoplay } = this.props;\n        if (autoplay) {\n            window.addEventListener('resize', this.onWindowResized);\n        }\n        // https://github.com/ant-design/ant-design/issues/7191\n        this.innerSlider = this.slick && this.slick.innerSlider;\n    }\n    componentDidUpdate(prevProps) {\n        if (React.Children.count(this.props.children) !== React.Children.count(prevProps.children)) {\n            this.goTo(this.props.initialSlide || 0, false);\n        }\n    }\n    componentWillUnmount() {\n        const { autoplay } = this.props;\n        if (autoplay) {\n            window.removeEventListener('resize', this.onWindowResized);\n            this.onWindowResized.cancel();\n        }\n    }\n    getDotPosition() {\n        const { dotPosition = 'bottom' } = this.props;\n        return dotPosition;\n    }\n    next() {\n        this.slick.slickNext();\n    }\n    prev() {\n        this.slick.slickPrev();\n    }\n    goTo(slide, dontAnimate = false) {\n        this.slick.slickGoTo(slide, dontAnimate);\n    }\n    render() {\n        return <ConfigConsumer>{this.renderCarousel}</ConfigConsumer>;\n    }\n}\nCarousel.defaultProps = {\n    dots: true,\n    arrows: false,\n    draggable: false,\n};\n"],"file":"index.js"}