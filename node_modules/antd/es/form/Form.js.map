{"version":3,"sources":["form/Form.jsx"],"names":["React","omit","classNames","FieldForm","List","ConfigContext","FormContext","useForm","SizeContext","SizeContextProvider","InternalForm","props","ref","contextSize","useContext","getPrefixCls","direction","form","colon","name","labelAlign","labelCol","wrapperCol","customizePrefixCls","prefixCls","hideRequiredMark","className","layout","size","scrollToFirstError","onFinishFailed","formClassName","formProps","wrapForm","__INTERNAL__","formContextValue","useMemo","vertical","useImperativeHandle","onInternalFinishFailed","errorInfo","errorFields","length","scrollToField","Form","forwardRef"],"mappings":"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","sourcesContent":["import * as React from 'react';\nimport omit from 'omit.js';\nimport classNames from 'classnames';\nimport FieldForm, { List } from 'rc-field-form';\nimport { ConfigContext } from '../config-provider';\nimport { FormContext } from './context';\nimport { useForm } from './util';\nimport SizeContext, { SizeContextProvider } from '../config-provider/SizeContext';\nconst InternalForm = (props, ref) => {\n    const contextSize = React.useContext(SizeContext);\n    const { getPrefixCls, direction } = React.useContext(ConfigContext);\n    const { form, colon, name, labelAlign, labelCol, wrapperCol, prefixCls: customizePrefixCls, hideRequiredMark, className = '', layout = 'horizontal', size = contextSize, scrollToFirstError, onFinishFailed, } = props;\n    const prefixCls = getPrefixCls('form', customizePrefixCls);\n    const formClassName = classNames(prefixCls, {\n        [`${prefixCls}-${layout}`]: true,\n        [`${prefixCls}-hide-required-mark`]: hideRequiredMark,\n        [`${prefixCls}-rtl`]: direction === 'rtl',\n        [`${prefixCls}-${size}`]: size,\n    }, className);\n    const formProps = omit(props, [\n        'prefixCls',\n        'className',\n        'layout',\n        'hideRequiredMark',\n        'wrapperCol',\n        'labelAlign',\n        'labelCol',\n        'colon',\n        'scrollToFirstError',\n    ]);\n    const [wrapForm] = useForm(form);\n    wrapForm.__INTERNAL__.name = name;\n    const formContextValue = React.useMemo(() => ({\n        name,\n        labelAlign,\n        labelCol,\n        wrapperCol,\n        vertical: layout === 'vertical',\n        colon,\n    }), [name, labelAlign, labelCol, wrapperCol, layout, colon]);\n    React.useImperativeHandle(ref, () => wrapForm);\n    const onInternalFinishFailed = (errorInfo) => {\n        if (onFinishFailed) {\n            onFinishFailed(errorInfo);\n        }\n        if (scrollToFirstError && errorInfo.errorFields.length) {\n            wrapForm.scrollToField(errorInfo.errorFields[0].name);\n        }\n    };\n    return (<SizeContextProvider size={size}>\n      <FormContext.Provider value={formContextValue}>\n        <FieldForm id={name} {...formProps} onFinishFailed={onInternalFinishFailed} form={wrapForm} className={formClassName}/>\n      </FormContext.Provider>\n    </SizeContextProvider>);\n};\nconst Form = React.forwardRef(InternalForm);\nexport { useForm, List };\nexport default Form;\n"],"file":"Form.js"}