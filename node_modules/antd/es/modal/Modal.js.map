{"version":3,"sources":["modal/Modal.jsx"],"names":["__rest","s","e","t","p","Object","prototype","hasOwnProperty","call","indexOf","getOwnPropertySymbols","i","length","propertyIsEnumerable","React","Dialog","classNames","addEventListener","CloseOutlined","useModal","getConfirmLocale","Button","LocaleReceiver","ConfigConsumer","mousePosition","destroyFns","getClickPosition","x","pageX","y","pageY","setTimeout","window","document","documentElement","Modal","arguments","handleCancel","onCancel","props","handleOk","onOk","renderFooter","locale","okText","okType","cancelText","confirmLoading","cancelButtonProps","okButtonProps","renderModal","getContextPopupContainer","getPopupContainer","getPrefixCls","direction","_a","customizePrefixCls","prefixCls","footer","visible","wrapClassName","centered","getContainer","closeIcon","restProps","defaultFooter","closeIconToRender","wrapClassNameExtended","undefined","Component","defaultProps","width","transitionName","maskTransitionName"],"mappings":"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","sourcesContent":["var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport Dialog from 'rc-dialog';\nimport classNames from 'classnames';\nimport addEventListener from 'rc-util/lib/Dom/addEventListener';\nimport CloseOutlined from '@ant-design/icons/CloseOutlined';\nimport useModal from './useModal';\nimport { getConfirmLocale } from './locale';\nimport Button from '../button';\nimport LocaleReceiver from '../locale-provider/LocaleReceiver';\nimport { ConfigConsumer } from '../config-provider';\nlet mousePosition;\nexport const destroyFns = [];\n// ref: https://github.com/ant-design/ant-design/issues/15795\nconst getClickPosition = (e) => {\n    mousePosition = {\n        x: e.pageX,\n        y: e.pageY,\n    };\n    // 100ms 内发生过点击事件，则从点击位置动画展示\n    // 否则直接 zoom 展示\n    // 这样可以兼容非点击方式展开\n    setTimeout(() => (mousePosition = null), 100);\n};\n// 只有点击事件支持从鼠标位置动画展开\nif (typeof window !== 'undefined' && window.document && window.document.documentElement) {\n    addEventListener(document.documentElement, 'click', getClickPosition);\n}\nexport default class Modal extends React.Component {\n    constructor() {\n        super(...arguments);\n        this.handleCancel = (e) => {\n            const { onCancel } = this.props;\n            if (onCancel) {\n                onCancel(e);\n            }\n        };\n        this.handleOk = (e) => {\n            const { onOk } = this.props;\n            if (onOk) {\n                onOk(e);\n            }\n        };\n        this.renderFooter = (locale) => {\n            const { okText, okType, cancelText, confirmLoading } = this.props;\n            return (<div>\n        <Button onClick={this.handleCancel} {...this.props.cancelButtonProps}>\n          {cancelText || locale.cancelText}\n        </Button>\n        <Button type={okType} loading={confirmLoading} onClick={this.handleOk} {...this.props.okButtonProps}>\n          {okText || locale.okText}\n        </Button>\n      </div>);\n        };\n        this.renderModal = ({ getPopupContainer: getContextPopupContainer, getPrefixCls, direction, }) => {\n            const _a = this.props, { prefixCls: customizePrefixCls, footer, visible, wrapClassName, centered, getContainer, closeIcon } = _a, restProps = __rest(_a, [\"prefixCls\", \"footer\", \"visible\", \"wrapClassName\", \"centered\", \"getContainer\", \"closeIcon\"]);\n            const prefixCls = getPrefixCls('modal', customizePrefixCls);\n            const defaultFooter = (<LocaleReceiver componentName=\"Modal\" defaultLocale={getConfirmLocale()}>\n        {this.renderFooter}\n      </LocaleReceiver>);\n            const closeIconToRender = (<span className={`${prefixCls}-close-x`}>\n        {closeIcon || <CloseOutlined className={`${prefixCls}-close-icon`}/>}\n      </span>);\n            const wrapClassNameExtended = classNames(wrapClassName, {\n                [`${prefixCls}-centered`]: !!centered,\n                [`${prefixCls}-wrap-rtl`]: direction === 'rtl',\n            });\n            return (<Dialog {...restProps} getContainer={getContainer === undefined ? getContextPopupContainer : getContainer} prefixCls={prefixCls} wrapClassName={wrapClassNameExtended} footer={footer === undefined ? defaultFooter : footer} visible={visible} mousePosition={mousePosition} onClose={this.handleCancel} closeIcon={closeIconToRender}/>);\n        };\n    }\n    render() {\n        return <ConfigConsumer>{this.renderModal}</ConfigConsumer>;\n    }\n}\nModal.useModal = useModal;\nModal.defaultProps = {\n    width: 520,\n    transitionName: 'zoom',\n    maskTransitionName: 'fade',\n    confirmLoading: false,\n    visible: false,\n    okType: 'primary',\n};\n"],"file":"Modal.js"}