{"version":3,"sources":["modal/confirm.jsx"],"names":["__rest","s","e","t","p","Object","prototype","hasOwnProperty","call","indexOf","getOwnPropertySymbols","i","length","propertyIsEnumerable","React","ReactDOM","InfoCircleOutlined","CheckCircleOutlined","CloseCircleOutlined","ExclamationCircleOutlined","getConfirmLocale","destroyFns","ConfirmDialog","confirm","config","div","document","createElement","body","appendChild","currentConfig","close","visible","destroy","unmountResult","unmountComponentAtNode","parentNode","removeChild","args","triggerCancel","some","param","onCancel","fn","splice","render","_a","okText","cancelText","props","runtimeLocale","okCancel","justOkText","afterClose","bind","update","newConfig","push","withWarn","type","icon","withInfo","withSuccess","withError","withConfirm"],"mappings":"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","sourcesContent":["var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport * as ReactDOM from 'react-dom';\nimport InfoCircleOutlined from '@ant-design/icons/InfoCircleOutlined';\nimport CheckCircleOutlined from '@ant-design/icons/CheckCircleOutlined';\nimport CloseCircleOutlined from '@ant-design/icons/CloseCircleOutlined';\nimport ExclamationCircleOutlined from '@ant-design/icons/ExclamationCircleOutlined';\nimport { getConfirmLocale } from './locale';\nimport { destroyFns } from './Modal';\nimport ConfirmDialog from './ConfirmDialog';\nexport default function confirm(config) {\n    const div = document.createElement('div');\n    document.body.appendChild(div);\n    // eslint-disable-next-line no-use-before-define\n    let currentConfig = Object.assign(Object.assign({}, config), { close, visible: true });\n    function destroy(...args) {\n        const unmountResult = ReactDOM.unmountComponentAtNode(div);\n        if (unmountResult && div.parentNode) {\n            div.parentNode.removeChild(div);\n        }\n        const triggerCancel = args.some(param => param && param.triggerCancel);\n        if (config.onCancel && triggerCancel) {\n            config.onCancel(...args);\n        }\n        for (let i = 0; i < destroyFns.length; i++) {\n            const fn = destroyFns[i];\n            // eslint-disable-next-line no-use-before-define\n            if (fn === close) {\n                destroyFns.splice(i, 1);\n                break;\n            }\n        }\n    }\n    function render(_a) {\n        var { okText, cancelText } = _a, props = __rest(_a, [\"okText\", \"cancelText\"]);\n        const runtimeLocale = getConfirmLocale();\n        ReactDOM.render(<ConfirmDialog {...props} okText={okText || (props.okCancel ? runtimeLocale.okText : runtimeLocale.justOkText)} cancelText={cancelText || runtimeLocale.cancelText}/>, div);\n    }\n    function close(...args) {\n        currentConfig = Object.assign(Object.assign({}, currentConfig), { visible: false, afterClose: destroy.bind(this, ...args) });\n        render(currentConfig);\n    }\n    function update(newConfig) {\n        currentConfig = Object.assign(Object.assign({}, currentConfig), newConfig);\n        render(currentConfig);\n    }\n    render(currentConfig);\n    destroyFns.push(close);\n    return {\n        destroy: close,\n        update,\n    };\n}\nexport function withWarn(props) {\n    return Object.assign({ type: 'warning', icon: <ExclamationCircleOutlined />, okCancel: false }, props);\n}\nexport function withInfo(props) {\n    return Object.assign({ type: 'info', icon: <InfoCircleOutlined />, okCancel: false }, props);\n}\nexport function withSuccess(props) {\n    return Object.assign({ type: 'success', icon: <CheckCircleOutlined />, okCancel: false }, props);\n}\nexport function withError(props) {\n    return Object.assign({ type: 'error', icon: <CloseCircleOutlined />, okCancel: false }, props);\n}\nexport function withConfirm(props) {\n    return Object.assign({ type: 'confirm', okCancel: true }, props);\n}\n"],"file":"confirm.js"}