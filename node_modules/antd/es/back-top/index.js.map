{"version":3,"sources":["back-top/index.jsx"],"names":["React","Animate","addEventListener","classNames","omit","ConfigConsumer","getScroll","scrollTo","getDefaultTarget","window","BackTop","props","scrollToTop","e","target","onClick","getContainer","handleScroll","visibilityHeight","scrollTop","setState","visible","renderBackTop","getPrefixCls","direction","customizePrefixCls","prefixCls","className","children","classString","defaultElement","divProps","state","backTopBtn","getTarget","scrollEvent","remove","Component","defaultProps"],"mappings":"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","sourcesContent":["import * as React from 'react';\nimport Animate from 'rc-animate';\nimport addEventListener from 'rc-util/lib/Dom/addEventListener';\nimport classNames from 'classnames';\nimport omit from 'omit.js';\nimport { ConfigConsumer } from '../config-provider';\nimport getScroll from '../_util/getScroll';\nimport scrollTo from '../_util/scrollTo';\nfunction getDefaultTarget() {\n    return window;\n}\nexport default class BackTop extends React.Component {\n    constructor(props) {\n        super(props);\n        this.scrollToTop = (e) => {\n            const { target = getDefaultTarget, onClick } = this.props;\n            scrollTo(0, {\n                getContainer: target,\n            });\n            if (typeof onClick === 'function') {\n                onClick(e);\n            }\n        };\n        this.handleScroll = () => {\n            const { visibilityHeight, target = getDefaultTarget } = this.props;\n            const scrollTop = getScroll(target(), true);\n            this.setState({\n                visible: scrollTop > visibilityHeight,\n            });\n        };\n        this.renderBackTop = ({ getPrefixCls, direction }) => {\n            const { prefixCls: customizePrefixCls, className = '', children } = this.props;\n            const prefixCls = getPrefixCls('back-top', customizePrefixCls);\n            const classString = classNames(prefixCls, className, {\n                [`${prefixCls}-rtl`]: direction === 'rtl',\n            });\n            const defaultElement = (<div className={`${prefixCls}-content`}>\n        <div className={`${prefixCls}-icon`}/>\n      </div>);\n            // fix https://fb.me/react-unknown-prop\n            const divProps = omit(this.props, [\n                'prefixCls',\n                'className',\n                'children',\n                'visibilityHeight',\n                'target',\n                'visible',\n            ]);\n            const visible = 'visible' in this.props ? this.props.visible : this.state.visible;\n            const backTopBtn = visible ? (<div {...divProps} className={classString} onClick={this.scrollToTop}>\n        {children || defaultElement}\n      </div>) : null;\n            return (<Animate component=\"\" transitionName=\"fade\">\n        {backTopBtn}\n      </Animate>);\n        };\n        this.state = {\n            visible: false,\n        };\n    }\n    componentDidMount() {\n        const getTarget = this.props.target || getDefaultTarget;\n        this.scrollEvent = addEventListener(getTarget(), 'scroll', this.handleScroll);\n        this.handleScroll();\n    }\n    componentWillUnmount() {\n        if (this.scrollEvent) {\n            this.scrollEvent.remove();\n        }\n    }\n    render() {\n        return <ConfigConsumer>{this.renderBackTop}</ConfigConsumer>;\n    }\n}\nBackTop.defaultProps = {\n    visibilityHeight: 400,\n};\n"],"file":"index.js"}