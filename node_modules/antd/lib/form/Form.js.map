{"version":3,"sources":["form/Form.jsx"],"names":["InternalForm","props","ref","contextSize","React","useContext","SizeContext","ConfigContext","getPrefixCls","direction","form","colon","name","labelAlign","labelCol","wrapperCol","customizePrefixCls","prefixCls","hideRequiredMark","className","layout","size","scrollToFirstError","onFinishFailed","formClassName","formProps","wrapForm","__INTERNAL__","formContextValue","useMemo","vertical","useImperativeHandle","onInternalFinishFailed","errorInfo","errorFields","length","scrollToField","Form","forwardRef"],"mappings":"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","sourcesContent":["import * as React from 'react';\nimport omit from 'omit.js';\nimport classNames from 'classnames';\nimport FieldForm, { List } from 'rc-field-form';\nimport { ConfigContext } from '../config-provider';\nimport { FormContext } from './context';\nimport { useForm } from './util';\nimport SizeContext, { SizeContextProvider } from '../config-provider/SizeContext';\nconst InternalForm = (props, ref) => {\n    const contextSize = React.useContext(SizeContext);\n    const { getPrefixCls, direction } = React.useContext(ConfigContext);\n    const { form, colon, name, labelAlign, labelCol, wrapperCol, prefixCls: customizePrefixCls, hideRequiredMark, className = '', layout = 'horizontal', size = contextSize, scrollToFirstError, onFinishFailed, } = props;\n    const prefixCls = getPrefixCls('form', customizePrefixCls);\n    const formClassName = classNames(prefixCls, {\n        [`${prefixCls}-${layout}`]: true,\n        [`${prefixCls}-hide-required-mark`]: hideRequiredMark,\n        [`${prefixCls}-rtl`]: direction === 'rtl',\n        [`${prefixCls}-${size}`]: size,\n    }, className);\n    const formProps = omit(props, [\n        'prefixCls',\n        'className',\n        'layout',\n        'hideRequiredMark',\n        'wrapperCol',\n        'labelAlign',\n        'labelCol',\n        'colon',\n        'scrollToFirstError',\n    ]);\n    const [wrapForm] = useForm(form);\n    wrapForm.__INTERNAL__.name = name;\n    const formContextValue = React.useMemo(() => ({\n        name,\n        labelAlign,\n        labelCol,\n        wrapperCol,\n        vertical: layout === 'vertical',\n        colon,\n    }), [name, labelAlign, labelCol, wrapperCol, layout, colon]);\n    React.useImperativeHandle(ref, () => wrapForm);\n    const onInternalFinishFailed = (errorInfo) => {\n        if (onFinishFailed) {\n            onFinishFailed(errorInfo);\n        }\n        if (scrollToFirstError && errorInfo.errorFields.length) {\n            wrapForm.scrollToField(errorInfo.errorFields[0].name);\n        }\n    };\n    return (<SizeContextProvider size={size}>\n      <FormContext.Provider value={formContextValue}>\n        <FieldForm id={name} {...formProps} onFinishFailed={onInternalFinishFailed} form={wrapForm} className={formClassName}/>\n      </FormContext.Provider>\n    </SizeContextProvider>);\n};\nconst Form = React.forwardRef(InternalForm);\nexport { useForm, List };\nexport default Form;\n"],"file":"Form.js"}