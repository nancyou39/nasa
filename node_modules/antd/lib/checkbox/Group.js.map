{"version":3,"sources":["checkbox/Group.jsx"],"names":["__rest","s","e","t","p","Object","prototype","hasOwnProperty","call","indexOf","getOwnPropertySymbols","i","length","propertyIsEnumerable","GroupContext","React","createContext","CheckboxGroup","props","cancelValue","value","setState","registeredValues","filter","val","registerValue","toggleOption","option","state","optionIndex","push","splice","onChange","options","getOptions","sort","a","b","indexA","findIndex","opt","indexB","renderGroup","getPrefixCls","customizePrefixCls","prefixCls","className","style","restProps","groupPrefixCls","domProps","children","map","toString","disabled","label","context","name","classString","defaultValue","nextProps","PureComponent","defaultProps","propTypes","PropTypes","array","isRequired","func"],"mappings":"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","sourcesContent":["var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport omit from 'omit.js';\nimport Checkbox from './Checkbox';\nimport { ConfigConsumer } from '../config-provider';\nexport const GroupContext = React.createContext(null);\nclass CheckboxGroup extends React.PureComponent {\n    constructor(props) {\n        super(props);\n        this.cancelValue = (value) => {\n            this.setState(({ registeredValues }) => ({\n                registeredValues: registeredValues.filter(val => val !== value),\n            }));\n        };\n        this.registerValue = (value) => {\n            this.setState(({ registeredValues }) => ({\n                registeredValues: [...registeredValues, value],\n            }));\n        };\n        this.toggleOption = (option) => {\n            const { registeredValues } = this.state;\n            const optionIndex = this.state.value.indexOf(option.value);\n            const value = [...this.state.value];\n            if (optionIndex === -1) {\n                value.push(option.value);\n            }\n            else {\n                value.splice(optionIndex, 1);\n            }\n            if (!('value' in this.props)) {\n                this.setState({ value });\n            }\n            const { onChange } = this.props;\n            if (onChange) {\n                const options = this.getOptions();\n                onChange(value\n                    .filter(val => registeredValues.indexOf(val) !== -1)\n                    .sort((a, b) => {\n                    const indexA = options.findIndex(opt => opt.value === a);\n                    const indexB = options.findIndex(opt => opt.value === b);\n                    return indexA - indexB;\n                }));\n            }\n        };\n        this.renderGroup = ({ getPrefixCls }) => {\n            const { props, state } = this;\n            const { prefixCls: customizePrefixCls, className, style, options } = props, restProps = __rest(props, [\"prefixCls\", \"className\", \"style\", \"options\"]);\n            const prefixCls = getPrefixCls('checkbox', customizePrefixCls);\n            const groupPrefixCls = `${prefixCls}-group`;\n            const domProps = omit(restProps, ['children', 'defaultValue', 'value', 'onChange', 'disabled']);\n            let { children } = props;\n            if (options && options.length > 0) {\n                children = this.getOptions().map(option => (<Checkbox prefixCls={prefixCls} key={option.value.toString()} disabled={'disabled' in option ? option.disabled : props.disabled} value={option.value} checked={state.value.indexOf(option.value) !== -1} onChange={option.onChange} className={`${groupPrefixCls}-item`} style={option.style}>\n          {option.label}\n        </Checkbox>));\n            }\n            const context = {\n                toggleOption: this.toggleOption,\n                value: this.state.value,\n                disabled: this.props.disabled,\n                name: this.props.name,\n                // https://github.com/ant-design/ant-design/issues/16376\n                registerValue: this.registerValue,\n                cancelValue: this.cancelValue,\n            };\n            const classString = classNames(groupPrefixCls, className);\n            return (<div className={classString} style={style} {...domProps}>\n        <GroupContext.Provider value={context}>{children}</GroupContext.Provider>\n      </div>);\n        };\n        this.state = {\n            value: props.value || props.defaultValue || [],\n            registeredValues: [],\n        };\n    }\n    static getDerivedStateFromProps(nextProps) {\n        if ('value' in nextProps) {\n            return {\n                value: nextProps.value || [],\n            };\n        }\n        return null;\n    }\n    getOptions() {\n        const { options } = this.props;\n        // https://github.com/Microsoft/TypeScript/issues/7960\n        return options.map(option => {\n            if (typeof option === 'string') {\n                return {\n                    label: option,\n                    value: option,\n                };\n            }\n            return option;\n        });\n    }\n    render() {\n        return <ConfigConsumer>{this.renderGroup}</ConfigConsumer>;\n    }\n}\nCheckboxGroup.defaultProps = {\n    options: [],\n};\nCheckboxGroup.propTypes = {\n    defaultValue: PropTypes.array,\n    value: PropTypes.array,\n    options: PropTypes.array.isRequired,\n    onChange: PropTypes.func,\n};\nexport default CheckboxGroup;\n"],"file":"Group.js"}