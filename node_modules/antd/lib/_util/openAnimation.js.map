{"version":3,"sources":["_util/openAnimation.jsx"],"names":["animate","node","show","done","height","requestAnimationFrameId","start","style","offsetHeight","opacity","active","raf","cancel","end","animation","enter","leave","appear"],"mappings":";;;;;;;AAIA;;AACA;;;;AALA;;;;AAMA,SAASA,OAAT,CAAiBC,IAAjB,EAAuBC,IAAvB,EAA6BC,IAA7B,EAAmC;AAC/B,MAAIC,MAAJ;AACA,MAAIC,uBAAJ;AACA,SAAO,8BAAaJ,IAAb,EAAmB,4BAAnB,EAAiD;AACpDK,IAAAA,KADoD,mBAC5C;AACJ,UAAI,CAACJ,IAAL,EAAW;AACPD,QAAAA,IAAI,CAACM,KAAL,CAAWH,MAAX,aAAuBH,IAAI,CAACO,YAA5B;AACAP,QAAAA,IAAI,CAACM,KAAL,CAAWE,OAAX,GAAqB,GAArB;AACH,OAHD,MAIK;AACDL,QAAAA,MAAM,GAAGH,IAAI,CAACO,YAAd;AACAP,QAAAA,IAAI,CAACM,KAAL,CAAWH,MAAX,GAAoB,KAApB;AACAH,QAAAA,IAAI,CAACM,KAAL,CAAWE,OAAX,GAAqB,GAArB;AACH;AACJ,KAXmD;AAYpDC,IAAAA,MAZoD,oBAY3C;AACL,UAAIL,uBAAJ,EAA6B;AACzBM,wBAAIC,MAAJ,CAAWP,uBAAX;AACH;;AACDA,MAAAA,uBAAuB,GAAG,qBAAI,YAAM;AAChCJ,QAAAA,IAAI,CAACM,KAAL,CAAWH,MAAX,aAAuBF,IAAI,GAAGE,MAAH,GAAY,CAAvC;AACAH,QAAAA,IAAI,CAACM,KAAL,CAAWE,OAAX,GAAqBP,IAAI,GAAG,GAAH,GAAS,GAAlC;AACH,OAHyB,CAA1B;AAIH,KApBmD;AAqBpDW,IAAAA,GArBoD,iBAqB9C;AACF,UAAIR,uBAAJ,EAA6B;AACzBM,wBAAIC,MAAJ,CAAWP,uBAAX;AACH;;AACDJ,MAAAA,IAAI,CAACM,KAAL,CAAWH,MAAX,GAAoB,EAApB;AACAH,MAAAA,IAAI,CAACM,KAAL,CAAWE,OAAX,GAAqB,EAArB;AACAN,MAAAA,IAAI;AACP;AA5BmD,GAAjD,CAAP;AA8BH;;AACD,IAAMW,SAAS,GAAG;AACdC,EAAAA,KADc,iBACRd,IADQ,EACFE,IADE,EACI;AACd,WAAOH,OAAO,CAACC,IAAD,EAAO,IAAP,EAAaE,IAAb,CAAd;AACH,GAHa;AAIda,EAAAA,KAJc,iBAIRf,IAJQ,EAIFE,IAJE,EAII;AACd,WAAOH,OAAO,CAACC,IAAD,EAAO,KAAP,EAAcE,IAAd,CAAd;AACH,GANa;AAOdc,EAAAA,MAPc,kBAOPhB,IAPO,EAODE,IAPC,EAOK;AACf,WAAOH,OAAO,CAACC,IAAD,EAAO,IAAP,EAAaE,IAAb,CAAd;AACH;AATa,CAAlB;eAWeW,S","sourcesContent":["/**\n * Deprecated. We should replace the animation with pure react motion instead of modify style directly.\n * If you are creating new component with animation, please use `./motion`.\n */\nimport cssAnimation from 'css-animation';\nimport raf from 'raf';\nfunction animate(node, show, done) {\n    let height;\n    let requestAnimationFrameId;\n    return cssAnimation(node, 'ant-motion-collapse-legacy', {\n        start() {\n            if (!show) {\n                node.style.height = `${node.offsetHeight}px`;\n                node.style.opacity = '1';\n            }\n            else {\n                height = node.offsetHeight;\n                node.style.height = '0px';\n                node.style.opacity = '0';\n            }\n        },\n        active() {\n            if (requestAnimationFrameId) {\n                raf.cancel(requestAnimationFrameId);\n            }\n            requestAnimationFrameId = raf(() => {\n                node.style.height = `${show ? height : 0}px`;\n                node.style.opacity = show ? '1' : '0';\n            });\n        },\n        end() {\n            if (requestAnimationFrameId) {\n                raf.cancel(requestAnimationFrameId);\n            }\n            node.style.height = '';\n            node.style.opacity = '';\n            done();\n        },\n    });\n}\nconst animation = {\n    enter(node, done) {\n        return animate(node, true, done);\n    },\n    leave(node, done) {\n        return animate(node, false, done);\n    },\n    appear(node, done) {\n        return animate(node, true, done);\n    },\n};\nexport default animation;\n"],"file":"openAnimation.js"}