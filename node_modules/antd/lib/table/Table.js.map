{"version":3,"sources":["table/Table.jsx"],"names":["EMPTY_LIST","Table","props","customizePrefixCls","prefixCls","className","style","customizeSize","size","bordered","dropdownPrefixCls","dataSource","pagination","rowSelection","rowKey","rowClassName","columns","children","onChange","getPopupContainer","loading","expandIcon","expandable","expandedRowRender","expandIconColumnIndex","indentSize","childrenColumnName","scroll","sortDirections","locale","tableProps","React","useContext","SizeContext","ConfigContext","contextLocale","defaultLocale","renderEmpty","direction","mergedSize","tableLocale","rawData","getPrefixCls","mergedExpandable","expandType","useMemo","some","item","internalRefs","body","useRef","getRowKey","record","getRecordByKey","changeEventInfo","triggerOnChange","info","reset","changeInfo","resetPagination","current","pageSize","scrollToFirstRowOnChange","getContainer","filters","sorter","currentDataSource","sorterStates","filterStates","onSorterChange","transformSorterColumns","sortStates","sorterTitleProps","getSorters","sortedData","onFilterChange","transformFilterColumns","getFilters","mergedData","columnTitleProps","transformTitleColumns","onPaginationChange","length","mergedPagination","pageData","total","DEFAULT_PAGE_SIZE","currentPageData","slice","data","transformSelectionColumns","selectedKeySet","internalRowClassName","index","indent","mergedRowClassName","has","__PARENT_RENDER_ICON__","undefined","transformColumns","useCallback","innerColumns","topPaginationNode","bottomPaginationNode","paginationSize","renderPagination","position","spinProps","spinning","wrapperClassNames","e","preventDefault","emptyText","INTERNAL_HOOKS","defaultProps","SELECTION_ALL","SELECTION_INVERT","Column","ColumnGroup"],"mappings":";;;;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;;;;;;;;;;;;;;;;;;;AACA,IAAMA,UAAU,GAAG,EAAnB;;AACA,SAASC,KAAT,CAAeC,KAAf,EAAsB;AAAA;;AAAA,MACCC,kBADD,GACiWD,KADjW,CACVE,SADU;AAAA,MACqBC,SADrB,GACiWH,KADjW,CACqBG,SADrB;AAAA,MACgCC,KADhC,GACiWJ,KADjW,CACgCI,KADhC;AAAA,MAC6CC,aAD7C,GACiWL,KADjW,CACuCM,IADvC;AAAA,MAC4DC,QAD5D,GACiWP,KADjW,CAC4DO,QAD5D;AAAA,MACsEC,iBADtE,GACiWR,KADjW,CACsEQ,iBADtE;AAAA,MACyFC,UADzF,GACiWT,KADjW,CACyFS,UADzF;AAAA,MACqGC,UADrG,GACiWV,KADjW,CACqGU,UADrG;AAAA,MACiHC,YADjH,GACiWX,KADjW,CACiHW,YADjH;AAAA,MAC+HC,MAD/H,GACiWZ,KADjW,CAC+HY,MAD/H;AAAA,MACuIC,YADvI,GACiWb,KADjW,CACuIa,YADvI;AAAA,MACqJC,OADrJ,GACiWd,KADjW,CACqJc,OADrJ;AAAA,MAC8JC,QAD9J,GACiWf,KADjW,CAC8Je,QAD9J;AAAA,MACwKC,QADxK,GACiWhB,KADjW,CACwKgB,QADxK;AAAA,MACkLC,iBADlL,GACiWjB,KADjW,CACkLiB,iBADlL;AAAA,MACqMC,OADrM,GACiWlB,KADjW,CACqMkB,OADrM;AAAA,MAC8MC,UAD9M,GACiWnB,KADjW,CAC8MmB,UAD9M;AAAA,MAC0NC,UAD1N,GACiWpB,KADjW,CAC0NoB,UAD1N;AAAA,MACsOC,iBADtO,GACiWrB,KADjW,CACsOqB,iBADtO;AAAA,MACyPC,qBADzP,GACiWtB,KADjW,CACyPsB,qBADzP;AAAA,MACgRC,UADhR,GACiWvB,KADjW,CACgRuB,UADhR;AAAA,8BACiWvB,KADjW,CAC4RwB,kBAD5R;AAAA,MAC4RA,kBAD5R,sCACiT,UADjT;AAAA,MAC6TC,MAD7T,GACiWzB,KADjW,CAC6TyB,MAD7T;AAAA,MACqUC,cADrU,GACiW1B,KADjW,CACqU0B,cADrU;AAAA,MACqVC,MADrV,GACiW3B,KADjW,CACqV2B,MADrV;AAElB,MAAMC,UAAU,GAAG,sBAAK5B,KAAL,EAAY,CAAC,WAAD,EAAc,OAAd,CAAZ,CAAnB;AACA,MAAMM,IAAI,GAAGuB,KAAK,CAACC,UAAN,CAAiBC,uBAAjB,CAAb;;AAHkB,0BAIwDF,KAAK,CAACC,UAAN,CAAiBE,sBAAjB,CAJxD;AAAA,gDAIVL,MAJU;AAAA,MAIFM,aAJE,sCAIcC,iBAJd;AAAA,MAI6BC,WAJ7B,qBAI6BA,WAJ7B;AAAA,MAI0CC,SAJ1C,qBAI0CA,SAJ1C;;AAKlB,MAAMC,UAAU,GAAGhC,aAAa,IAAIC,IAApC;;AACA,MAAMgC,WAAW,GAAG,SAAc,SAAc,EAAd,EAAkBL,aAAa,CAAClC,KAAhC,CAAd,EAAsD4B,MAAtD,CAApB;;AACA,MAAMY,OAAO,GAAG9B,UAAU,IAAIX,UAA9B;;AAPkB,2BAQO+B,KAAK,CAACC,UAAN,CAAiBE,sBAAjB,CARP;AAAA,MAQVQ,YARU,sBAQVA,YARU;;AASlB,MAAMtC,SAAS,GAAGsC,YAAY,CAAC,OAAD,EAAUvC,kBAAV,CAA9B;;AACA,MAAMwC,gBAAgB,GAAG,SAAc;AAAEnB,IAAAA,qBAAqB,EAArBA;AAAF,GAAd,EAAyCF,UAAzC,CAAzB;;AACA,MAAMsB,UAAU,GAAGb,KAAK,CAACc,OAAN,CAAc,YAAM;AACnC,QAAIJ,OAAO,CAACK,IAAR,CAAa,UAAAC,IAAI;AAAA,aAAIA,IAAI,CAACrB,kBAAD,CAAR;AAAA,KAAjB,CAAJ,EAAoD;AAChD,aAAO,MAAP;AACH;;AACD,QAAIH,iBAAiB,IAAKD,UAAU,IAAIA,UAAU,CAACC,iBAAnD,EAAuE;AACnE,aAAO,KAAP;AACH;;AACD,WAAO,IAAP;AACH,GARkB,EAQhB,CAACkB,OAAD,CARgB,CAAnB;AASA,MAAMO,YAAY,GAAG;AACjBC,IAAAA,IAAI,EAAElB,KAAK,CAACmB,MAAN;AADW,GAArB,CApBkB,CAuBlB;;AACA,MAAMC,SAAS,GAAGpB,KAAK,CAACc,OAAN,CAAc,YAAM;AAClC,QAAI,OAAO/B,MAAP,KAAkB,UAAtB,EAAkC;AAC9B,aAAOA,MAAP;AACH;;AACD,WAAO,UAACsC,MAAD;AAAA,aAAYA,MAAM,CAACtC,MAAD,CAAlB;AAAA,KAAP;AACH,GALiB,EAKf,CAACA,MAAD,CALe,CAAlB;;AAxBkB,sBA8BO,+BAAa2B,OAAb,EAAsBf,kBAAtB,EAA0CyB,SAA1C,CA9BP;AAAA;AAAA,MA8BXE,cA9BW,sBA+BlB;;;AACA,MAAMC,eAAe,GAAG,EAAxB;;AACA,MAAMC,eAAe,GAAG,SAAlBA,eAAkB,CAACC,IAAD,EAAyB;AAAA,QAAlBC,KAAkB,uEAAV,KAAU;;AAC7C,QAAMC,UAAU,GAAG,SAAc,SAAc,EAAd,EAAkBJ,eAAlB,CAAd,EAAkDE,IAAlD,CAAnB;;AACA,QAAIC,KAAJ,EAAW;AACPH,MAAAA,eAAe,CAACK,eAAhB,GADO,CAEP;;AACA,UAAID,UAAU,CAAC9C,UAAX,CAAsBgD,OAA1B,EAAmC;AAC/BF,QAAAA,UAAU,CAAC9C,UAAX,CAAsBgD,OAAtB,GAAgC,CAAhC;AACH,OALM,CAMP;;;AACA,UAAIhD,UAAU,IAAIA,UAAU,CAACM,QAA7B,EAAuC;AACnCN,QAAAA,UAAU,CAACM,QAAX,CAAoB,CAApB,EAAuBwC,UAAU,CAAC9C,UAAX,CAAsBiD,QAA7C;AACH;AACJ;;AACD,QAAIlC,MAAM,IAAIA,MAAM,CAACmC,wBAAP,KAAoC,KAA9C,IAAuDd,YAAY,CAACC,IAAb,CAAkBW,OAA7E,EAAsF;AAClF,gCAAS,CAAT,EAAY;AACRG,QAAAA,YAAY,EAAE;AAAA,iBAAMf,YAAY,CAACC,IAAb,CAAkBW,OAAxB;AAAA;AADN,OAAZ;AAGH;;AACD,QAAI1C,QAAJ,EAAc;AACVA,MAAAA,QAAQ,CAACwC,UAAU,CAAC9C,UAAZ,EAAwB8C,UAAU,CAACM,OAAnC,EAA4CN,UAAU,CAACO,MAAvD,EAA+D;AACnEC,QAAAA,iBAAiB,EAAE,+BAAc,6BAAYzB,OAAZ,EAAqBiB,UAAU,CAACS,YAAhC,EAA8CzC,kBAA9C,CAAd,EAAiFgC,UAAU,CAACU,YAA5F;AADgD,OAA/D,CAAR;AAGH;AACJ,GAvBD;AAwBA;;;;;;AAMA;;;AACA,MAAMC,cAAc,GAAG,SAAjBA,cAAiB,CAACJ,MAAD,EAASE,YAAT,EAA0B;AAC7CZ,IAAAA,eAAe,CAAC;AACZU,MAAAA,MAAM,EAANA,MADY;AAEZE,MAAAA,YAAY,EAAZA;AAFY,KAAD,EAGZ,KAHY,CAAf;AAIH,GALD;;AAhEkB,mBAsEyD,4BAAU;AACjF/D,IAAAA,SAAS,EAATA,SADiF;AAEjFY,IAAAA,OAAO,EAAPA,OAFiF;AAGjFC,IAAAA,QAAQ,EAARA,QAHiF;AAIjFoD,IAAAA,cAAc,EAAdA,cAJiF;AAKjFzC,IAAAA,cAAc,EAAEA,cAAc,IAAI,CAAC,QAAD,EAAW,SAAX;AAL+C,GAAV,CAtEzD;AAAA;AAAA,MAsEX0C,sBAtEW;AAAA,MAsEaC,UAtEb;AAAA,MAsEyBC,gBAtEzB;AAAA,MAsE2CC,UAtE3C;;AA6ElB,MAAMC,UAAU,GAAG3C,KAAK,CAACc,OAAN,CAAc;AAAA,WAAM,6BAAYJ,OAAZ,EAAqB8B,UAArB,EAAiC7C,kBAAjC,CAAN;AAAA,GAAd,EAA0E,CACzFe,OADyF,EAEzF8B,UAFyF,CAA1E,CAAnB;AAIAjB,EAAAA,eAAe,CAACW,MAAhB,GAAyBQ,UAAU,EAAnC;AACAnB,EAAAA,eAAe,CAACa,YAAhB,GAA+BI,UAA/B,CAlFkB,CAmFlB;;AACA,MAAMI,cAAc,GAAG,SAAjBA,cAAiB,CAACX,OAAD,EAAUI,YAAV,EAA2B;AAC9Cb,IAAAA,eAAe,CAAC;AACZS,MAAAA,OAAO,EAAPA,OADY;AAEZI,MAAAA,YAAY,EAAZA;AAFY,KAAD,EAGZ,IAHY,CAAf;AAIH,GALD;;AApFkB,mBA0FyC,4BAAU;AACjEhE,IAAAA,SAAS,EAATA,SADiE;AAEjEyB,IAAAA,MAAM,EAAEW,WAFyD;AAGjE9B,IAAAA,iBAAiB,EAAjBA,iBAHiE;AAIjEM,IAAAA,OAAO,EAAEA,OAAO,IAAI,EAJ6C;AAKjE2D,IAAAA,cAAc,EAAdA,cALiE;AAMjExD,IAAAA,iBAAiB,EAAjBA;AANiE,GAAV,CA1FzC;AAAA;AAAA,MA0FXyD,sBA1FW;AAAA,MA0FaR,YA1Fb;AAAA,MA0F2BS,UA1F3B;;AAkGlB,MAAMC,UAAU,GAAG,+BAAcJ,UAAd,EAA0BN,YAA1B,CAAnB;AACAd,EAAAA,eAAe,CAACU,OAAhB,GAA0Ba,UAAU,EAApC;AACAvB,EAAAA,eAAe,CAACc,YAAhB,GAA+BA,YAA/B,CApGkB,CAqGlB;;AACA,MAAMW,gBAAgB,GAAGhD,KAAK,CAACc,OAAN,CAAc;AAAA,WAAO,SAAc,EAAd,EAAkB2B,gBAAlB,CAAP;AAAA,GAAd,EAA2D,CAACA,gBAAD,CAA3D,CAAzB;;AAtGkB,yBAuGc,kCAAgBO,gBAAhB,CAvGd;AAAA;AAAA,MAuGXC,qBAvGW,yBAwGlB;;;AACA,MAAMC,kBAAkB,GAAG,SAArBA,kBAAqB,CAACrB,OAAD,EAAUC,QAAV,EAAuB;AAC9CN,IAAAA,eAAe,CAAC;AACZ3C,MAAAA,UAAU,EAAE,SAAc,SAAc,EAAd,EAAkB0C,eAAe,CAAC1C,UAAlC,CAAd,EAA6D;AAAEgD,QAAAA,OAAO,EAAPA,OAAF;AAAWC,QAAAA,QAAQ,EAARA;AAAX,OAA7D;AADA,KAAD,CAAf;AAGH,GAJD;;AAzGkB,uBA8G0B,gCAAciB,UAAU,CAACI,MAAzB,EAAiCtE,UAAjC,EAA6CqE,kBAA7C,CA9G1B;AAAA;AAAA,MA8GXE,gBA9GW;AAAA,MA8GOxB,eA9GP;;AA+GlBL,EAAAA,eAAe,CAAC1C,UAAhB,GACIA,UAAU,KAAK,KAAf,GAAuB,EAAvB,GAA4B,wCAAmBA,UAAnB,EAA+BuE,gBAA/B,CADhC;AAEA7B,EAAAA,eAAe,CAACK,eAAhB,GAAkCA,eAAlC,CAjHkB,CAkHlB;;AACA,MAAMyB,QAAQ,GAAGrD,KAAK,CAACc,OAAN,CAAc,YAAM;AACjC,QAAIjC,UAAU,KAAK,KAAf,IACA,CAACuE,gBAAgB,CAACtB,QADlB,IAEAiB,UAAU,CAACI,MAAX,GAAoBC,gBAAgB,CAACE,KAFzC,EAEgD;AAC5C,aAAOP,UAAP;AACH;;AALgC,gCAMqBK,gBANrB,CAMzBvB,OANyB;AAAA,QAMzBA,OANyB,sCAMf,CANe;AAAA,gCAMqBuB,gBANrB,CAMZtB,QANY;AAAA,QAMZA,QANY,sCAMDyB,iCANC;AAOjC,QAAMC,eAAe,GAAGT,UAAU,CAACU,KAAX,CAAiB,CAAC5B,OAAO,GAAG,CAAX,IAAgBC,QAAjC,EAA2CD,OAAO,GAAGC,QAArD,CAAxB;AACA,WAAO0B,eAAP;AACH,GATgB,EASd,CACC,CAAC,CAAC3E,UADH,EAECkE,UAFD,EAGCK,gBAAgB,IAAIA,gBAAgB,CAACvB,OAHtC,EAICuB,gBAAgB,IAAIA,gBAAgB,CAACtB,QAJtC,EAKCsB,gBAAgB,IAAIA,gBAAgB,CAACE,KALtC,CATc,CAAjB,CAnHkB,CAmIlB;;AAnIkB,sBAoIkC,+BAAaxE,YAAb,EAA2B;AAC3ET,IAAAA,SAAS,EAATA,SAD2E;AAE3EqF,IAAAA,IAAI,EAAEX,UAFqE;AAG3EM,IAAAA,QAAQ,EAARA,QAH2E;AAI3EjC,IAAAA,SAAS,EAATA,SAJ2E;AAK3EE,IAAAA,cAAc,EAAdA,cAL2E;AAM3ET,IAAAA,UAAU,EAAVA,UAN2E;AAO3ElB,IAAAA,kBAAkB,EAAlBA,kBAP2E;AAQ3EG,IAAAA,MAAM,EAAEW,WARmE;AAS3EhB,IAAAA,qBAAqB,EAAEmB,gBAAgB,CAACnB;AATmC,GAA3B,CApIlC;AAAA;AAAA,MAoIXkE,yBApIW;AAAA,MAoIgBC,cApIhB;;AA+IlB,MAAMC,oBAAoB,GAAG,SAAvBA,oBAAuB,CAACxC,MAAD,EAASyC,KAAT,EAAgBC,MAAhB,EAA2B;AACpD,QAAIC,kBAAJ;;AACA,QAAI,OAAOhF,YAAP,KAAwB,UAA5B,EAAwC;AACpCgF,MAAAA,kBAAkB,GAAG,4BAAWhF,YAAY,CAACqC,MAAD,EAASyC,KAAT,EAAgBC,MAAhB,CAAvB,CAArB;AACH,KAFD,MAGK;AACDC,MAAAA,kBAAkB,GAAG,4BAAWhF,YAAX,CAArB;AACH;;AACD,WAAO,0DACCX,SADD,oBAC4BuF,cAAc,CAACK,GAAf,CAAmB7C,SAAS,CAACC,MAAD,EAASyC,KAAT,CAA5B,CAD5B,GAEJE,kBAFI,CAAP;AAGH,GAXD,CA/IkB,CA2JlB;AACA;;;AACApD,EAAAA,gBAAgB,CAACsD,sBAAjB,GAA0CtD,gBAAgB,CAACtB,UAA3D,CA7JkB,CA8JlB;;AACAsB,EAAAA,gBAAgB,CAACtB,UAAjB,GACIsB,gBAAgB,CAACtB,UAAjB,IAA+BA,UAA/B,IAA6C,4BAAiBmB,WAAjB,CADjD,CA/JkB,CAiKlB;;AACA,MAAII,UAAU,KAAK,MAAf,IAAyBD,gBAAgB,CAACnB,qBAAjB,KAA2C0E,SAAxE,EAAmF;AAC/EvD,IAAAA,gBAAgB,CAACnB,qBAAjB,GAAyCX,YAAY,GAAG,CAAH,GAAO,CAA5D;AACH,GAFD,MAGK,IAAI8B,gBAAgB,CAACnB,qBAAjB,GAAyC,CAAzC,IAA8CX,YAAlD,EAAgE;AACjE8B,IAAAA,gBAAgB,CAACnB,qBAAjB,IAA0C,CAA1C;AACH,GAvKiB,CAwKlB;;;AACAmB,EAAAA,gBAAgB,CAAClB,UAAjB,GAA8BkB,gBAAgB,CAAClB,UAAjB,IAA+BA,UAA/B,IAA6C,EAA3E,CAzKkB,CA0KlB;;AACA,MAAM0E,gBAAgB,GAAGpE,KAAK,CAACqE,WAAN,CAAkB,UAACC,YAAD,EAAkB;AACzD,WAAOrB,qBAAqB,CAACU,yBAAyB,CAACd,sBAAsB,CAACN,sBAAsB,CAAC+B,YAAD,CAAvB,CAAvB,CAA1B,CAA5B;AACH,GAFwB,EAEtB,CAAC/B,sBAAD,EAAyBM,sBAAzB,EAAiDc,yBAAjD,CAFsB,CAAzB;AAGA,MAAIY,iBAAJ;AACA,MAAIC,oBAAJ;;AACA,MAAI3F,UAAU,KAAK,KAAnB,EAA0B;AACtB,QAAI4F,cAAJ;;AACA,QAAIrB,gBAAgB,CAAC3E,IAArB,EAA2B;AACvBgG,MAAAA,cAAc,GAAGrB,gBAAgB,CAAC3E,IAAlC;AACH,KAFD,MAGK;AACDgG,MAAAA,cAAc,GAAGjE,UAAU,KAAK,OAAf,IAA0BA,UAAU,KAAK,QAAzC,GAAoD,OAApD,GAA8D2D,SAA/E;AACH;;AACD,QAAMO,gBAAgB,GAAG,SAAnBA,gBAAmB;AAAA,aAAO,oBAAC,sBAAD;AAAY,QAAA,SAAS,YAAKrG,SAAL;AAArB,SAAsD+E,gBAAtD;AAAwE,QAAA,IAAI,EAAEqB;AAA9E,SAAP;AAAA,KAAzB;;AACA,YAAQrB,gBAAgB,CAACuB,QAAzB;AACI,WAAK,KAAL;AACIJ,QAAAA,iBAAiB,GAAGG,gBAAgB,EAApC;AACA;;AACJ,WAAK,MAAL;AACIH,QAAAA,iBAAiB,GAAGG,gBAAgB,EAApC;AACAF,QAAAA,oBAAoB,GAAGE,gBAAgB,EAAvC;AACA;;AACJ;AACIF,QAAAA,oBAAoB,GAAGE,gBAAgB,EAAvC;AATR;AAWH,GApMiB,CAqMlB;;;AACA,MAAIE,SAAJ;;AACA,MAAI,OAAOvF,OAAP,KAAmB,SAAvB,EAAkC;AAC9BuF,IAAAA,SAAS,GAAG;AACRC,MAAAA,QAAQ,EAAExF;AADF,KAAZ;AAGH,GAJD,MAKK;AACDuF,IAAAA,SAAS,GAAGvF,OAAZ;AACH;;AACD,MAAMyF,iBAAiB,GAAG,sCAAczG,SAAd,eAAmCC,SAAnC,gCAClBD,SADkB,mBACQkC,SAAS,KAAK,KADtB,EAA1B;AAGA,SAAQ;AAAK,IAAA,SAAS,EAAEuE,iBAAhB;AAAmC,IAAA,KAAK,EAAEvG,KAA1C;AAAiD,IAAA,WAAW,EAAE,qBAAAwG,CAAC,EAAI;AACvEA,MAAAA,CAAC,CAACC,cAAF;AACH;AAFO,KAGN,oBAAC,gBAAD;AAAM,IAAA,QAAQ,EAAE;AAAhB,KAA2BJ,SAA3B,GACGL,iBADH,EAEE,oBAAC,mBAAD,eAAaxE,UAAb;AAAyB,IAAA,UAAU,EAAEa,gBAArC;AAAuD,IAAA,SAAS,EAAEvC,SAAlE;AAA6E,IAAA,SAAS,EAAE,wFACpFA,SADoF,cAC/DmC,UAAU,KAAK,QADgD,2CAEpFnC,SAFoF,aAEhEmC,UAAU,KAAK,OAFiD,2CAGpFnC,SAHoF,gBAG7DK,QAH6D,2CAIpFL,SAJoF,WAIlEkC,SAAS,KAAK,KAJoD,iBAAxF;AAKA,IAAA,IAAI,EAAE8C,QALN;AAKgB,IAAA,MAAM,EAAEjC,SALxB;AAKmC,IAAA,YAAY,EAAEyC,oBALjD;AAKuE,IAAA,SAAS,EAAG/D,MAAM,IAAIA,MAAM,CAACmF,SAAlB,IAAgC3E,WAAW,CAAC,OAAD,CAL7H,CAMJ;AANI;AAOJ,IAAA,aAAa,EAAE4E,qBAPX;AAO2B,IAAA,YAAY,EAAEjE,YAPzC;AAOuD,IAAA,gBAAgB,EAAEmD;AAPzE,KAFF,EAUGI,oBAVH,CAHM,CAAR;AAgBH;;AACDtG,KAAK,CAACiH,YAAN,GAAqB;AACjBpG,EAAAA,MAAM,EAAE;AADS,CAArB;AAGAb,KAAK,CAACkH,aAAN,GAAsBA,4BAAtB;AACAlH,KAAK,CAACmH,gBAAN,GAAyBA,+BAAzB;AACAnH,KAAK,CAACoH,MAAN,GAAeA,kBAAf;AACApH,KAAK,CAACqH,WAAN,GAAoBA,uBAApB;eACerH,K","sourcesContent":["import * as React from 'react';\nimport classNames from 'classnames';\nimport omit from 'omit.js';\nimport RcTable from 'rc-table';\nimport { INTERNAL_HOOKS } from 'rc-table/lib/Table';\nimport Spin from '../spin';\nimport Pagination from '../pagination';\nimport { ConfigContext } from '../config-provider/context';\nimport usePagination, { DEFAULT_PAGE_SIZE, getPaginationParam } from './hooks/usePagination';\nimport useLazyKVMap from './hooks/useLazyKVMap';\nimport useSelection, { SELECTION_ALL, SELECTION_INVERT } from './hooks/useSelection';\nimport useSorter, { getSortData } from './hooks/useSorter';\nimport useFilter, { getFilterData } from './hooks/useFilter';\nimport useTitleColumns from './hooks/useTitleColumns';\nimport renderExpandIcon from './ExpandIcon';\nimport scrollTo from '../_util/scrollTo';\nimport defaultLocale from '../locale/en_US';\nimport SizeContext from '../config-provider/SizeContext';\nimport Column from './Column';\nimport ColumnGroup from './ColumnGroup';\nconst EMPTY_LIST = [];\nfunction Table(props) {\n    const { prefixCls: customizePrefixCls, className, style, size: customizeSize, bordered, dropdownPrefixCls, dataSource, pagination, rowSelection, rowKey, rowClassName, columns, children, onChange, getPopupContainer, loading, expandIcon, expandable, expandedRowRender, expandIconColumnIndex, indentSize, childrenColumnName = 'children', scroll, sortDirections, locale, } = props;\n    const tableProps = omit(props, ['className', 'style']);\n    const size = React.useContext(SizeContext);\n    const { locale: contextLocale = defaultLocale, renderEmpty, direction } = React.useContext(ConfigContext);\n    const mergedSize = customizeSize || size;\n    const tableLocale = Object.assign(Object.assign({}, contextLocale.Table), locale);\n    const rawData = dataSource || EMPTY_LIST;\n    const { getPrefixCls } = React.useContext(ConfigContext);\n    const prefixCls = getPrefixCls('table', customizePrefixCls);\n    const mergedExpandable = Object.assign({ expandIconColumnIndex }, expandable);\n    const expandType = React.useMemo(() => {\n        if (rawData.some(item => item[childrenColumnName])) {\n            return 'nest';\n        }\n        if (expandedRowRender || (expandable && expandable.expandedRowRender)) {\n            return 'row';\n        }\n        return null;\n    }, [rawData]);\n    const internalRefs = {\n        body: React.useRef(),\n    };\n    // ============================ RowKey ============================\n    const getRowKey = React.useMemo(() => {\n        if (typeof rowKey === 'function') {\n            return rowKey;\n        }\n        return (record) => record[rowKey];\n    }, [rowKey]);\n    const [getRecordByKey] = useLazyKVMap(rawData, childrenColumnName, getRowKey);\n    // ============================ Events =============================\n    const changeEventInfo = {};\n    const triggerOnChange = (info, reset = false) => {\n        const changeInfo = Object.assign(Object.assign({}, changeEventInfo), info);\n        if (reset) {\n            changeEventInfo.resetPagination();\n            // Reset event param\n            if (changeInfo.pagination.current) {\n                changeInfo.pagination.current = 1;\n            }\n            // Trigger pagination events\n            if (pagination && pagination.onChange) {\n                pagination.onChange(1, changeInfo.pagination.pageSize);\n            }\n        }\n        if (scroll && scroll.scrollToFirstRowOnChange !== false && internalRefs.body.current) {\n            scrollTo(0, {\n                getContainer: () => internalRefs.body.current,\n            });\n        }\n        if (onChange) {\n            onChange(changeInfo.pagination, changeInfo.filters, changeInfo.sorter, {\n                currentDataSource: getFilterData(getSortData(rawData, changeInfo.sorterStates, childrenColumnName), changeInfo.filterStates),\n            });\n        }\n    };\n    /**\n     * Controlled state in `columns` is not a good idea that makes too many code (1000+ line?)\n     * to read state out and then put it back to title render.\n     * Move these code into `hooks` but still too complex.\n     * We should provides Table props like `sorter` & `filter` to handle control in next big version.\n     */\n    // ============================ Sorter =============================\n    const onSorterChange = (sorter, sorterStates) => {\n        triggerOnChange({\n            sorter,\n            sorterStates,\n        }, false);\n    };\n    const [transformSorterColumns, sortStates, sorterTitleProps, getSorters] = useSorter({\n        prefixCls,\n        columns,\n        children,\n        onSorterChange,\n        sortDirections: sortDirections || ['ascend', 'descend'],\n    });\n    const sortedData = React.useMemo(() => getSortData(rawData, sortStates, childrenColumnName), [\n        rawData,\n        sortStates,\n    ]);\n    changeEventInfo.sorter = getSorters();\n    changeEventInfo.sorterStates = sortStates;\n    // ============================ Filter ============================\n    const onFilterChange = (filters, filterStates) => {\n        triggerOnChange({\n            filters,\n            filterStates,\n        }, true);\n    };\n    const [transformFilterColumns, filterStates, getFilters] = useFilter({\n        prefixCls,\n        locale: tableLocale,\n        dropdownPrefixCls,\n        columns: columns || [],\n        onFilterChange,\n        getPopupContainer,\n    });\n    const mergedData = getFilterData(sortedData, filterStates);\n    changeEventInfo.filters = getFilters();\n    changeEventInfo.filterStates = filterStates;\n    // ============================ Column ============================\n    const columnTitleProps = React.useMemo(() => (Object.assign({}, sorterTitleProps)), [sorterTitleProps]);\n    const [transformTitleColumns] = useTitleColumns(columnTitleProps);\n    // ========================== Pagination ==========================\n    const onPaginationChange = (current, pageSize) => {\n        triggerOnChange({\n            pagination: Object.assign(Object.assign({}, changeEventInfo.pagination), { current, pageSize }),\n        });\n    };\n    const [mergedPagination, resetPagination] = usePagination(mergedData.length, pagination, onPaginationChange);\n    changeEventInfo.pagination =\n        pagination === false ? {} : getPaginationParam(pagination, mergedPagination);\n    changeEventInfo.resetPagination = resetPagination;\n    // ============================= Data =============================\n    const pageData = React.useMemo(() => {\n        if (pagination === false ||\n            !mergedPagination.pageSize ||\n            mergedData.length < mergedPagination.total) {\n            return mergedData;\n        }\n        const { current = 1, pageSize = DEFAULT_PAGE_SIZE } = mergedPagination;\n        const currentPageData = mergedData.slice((current - 1) * pageSize, current * pageSize);\n        return currentPageData;\n    }, [\n        !!pagination,\n        mergedData,\n        mergedPagination && mergedPagination.current,\n        mergedPagination && mergedPagination.pageSize,\n        mergedPagination && mergedPagination.total,\n    ]);\n    // ========================== Selections ==========================\n    const [transformSelectionColumns, selectedKeySet] = useSelection(rowSelection, {\n        prefixCls,\n        data: mergedData,\n        pageData,\n        getRowKey,\n        getRecordByKey,\n        expandType,\n        childrenColumnName,\n        locale: tableLocale,\n        expandIconColumnIndex: mergedExpandable.expandIconColumnIndex,\n    });\n    const internalRowClassName = (record, index, indent) => {\n        let mergedRowClassName;\n        if (typeof rowClassName === 'function') {\n            mergedRowClassName = classNames(rowClassName(record, index, indent));\n        }\n        else {\n            mergedRowClassName = classNames(rowClassName);\n        }\n        return classNames({\n            [`${prefixCls}-row-selected`]: selectedKeySet.has(getRowKey(record, index)),\n        }, mergedRowClassName);\n    };\n    // ========================== Expandable ==========================\n    // Pass origin render status into `rc-table`, this can be removed when refactor with `rc-table`\n    mergedExpandable.__PARENT_RENDER_ICON__ = mergedExpandable.expandIcon;\n    // Customize expandable icon\n    mergedExpandable.expandIcon =\n        mergedExpandable.expandIcon || expandIcon || renderExpandIcon(tableLocale);\n    // Adjust expand icon index, no overwrite expandIconColumnIndex if set.\n    if (expandType === 'nest' && mergedExpandable.expandIconColumnIndex === undefined) {\n        mergedExpandable.expandIconColumnIndex = rowSelection ? 1 : 0;\n    }\n    else if (mergedExpandable.expandIconColumnIndex > 0 && rowSelection) {\n        mergedExpandable.expandIconColumnIndex -= 1;\n    }\n    // Indent size\n    mergedExpandable.indentSize = mergedExpandable.indentSize || indentSize || 15;\n    // ============================ Render ============================\n    const transformColumns = React.useCallback((innerColumns) => {\n        return transformTitleColumns(transformSelectionColumns(transformFilterColumns(transformSorterColumns(innerColumns))));\n    }, [transformSorterColumns, transformFilterColumns, transformSelectionColumns]);\n    let topPaginationNode;\n    let bottomPaginationNode;\n    if (pagination !== false) {\n        let paginationSize;\n        if (mergedPagination.size) {\n            paginationSize = mergedPagination.size;\n        }\n        else {\n            paginationSize = mergedSize === 'small' || mergedSize === 'middle' ? 'small' : undefined;\n        }\n        const renderPagination = () => (<Pagination className={`${prefixCls}-pagination`} {...mergedPagination} size={paginationSize}/>);\n        switch (mergedPagination.position) {\n            case 'top':\n                topPaginationNode = renderPagination();\n                break;\n            case 'both':\n                topPaginationNode = renderPagination();\n                bottomPaginationNode = renderPagination();\n                break;\n            default:\n                bottomPaginationNode = renderPagination();\n        }\n    }\n    // >>>>>>>>> Spinning\n    let spinProps;\n    if (typeof loading === 'boolean') {\n        spinProps = {\n            spinning: loading,\n        };\n    }\n    else {\n        spinProps = loading;\n    }\n    const wrapperClassNames = classNames(`${prefixCls}-wrapper`, className, {\n        [`${prefixCls}-wrapper-rtl`]: direction === 'rtl',\n    });\n    return (<div className={wrapperClassNames} style={style} onTouchMove={e => {\n        e.preventDefault();\n    }}>\n      <Spin spinning={false} {...spinProps}>\n        {topPaginationNode}\n        <RcTable {...tableProps} expandable={mergedExpandable} prefixCls={prefixCls} className={classNames({\n        [`${prefixCls}-middle`]: mergedSize === 'middle',\n        [`${prefixCls}-small`]: mergedSize === 'small',\n        [`${prefixCls}-bordered`]: bordered,\n        [`${prefixCls}-rtl`]: direction === 'rtl',\n    })} data={pageData} rowKey={getRowKey} rowClassName={internalRowClassName} emptyText={(locale && locale.emptyText) || renderEmpty('Table')} \n    // Internal\n    internalHooks={INTERNAL_HOOKS} internalRefs={internalRefs} transformColumns={transformColumns}/>\n        {bottomPaginationNode}\n      </Spin>\n    </div>);\n}\nTable.defaultProps = {\n    rowKey: 'key',\n};\nTable.SELECTION_ALL = SELECTION_ALL;\nTable.SELECTION_INVERT = SELECTION_INVERT;\nTable.Column = Column;\nTable.ColumnGroup = ColumnGroup;\nexport default Table;\n"],"file":"Table.js"}