{"version":3,"sources":["notification/index.jsx"],"names":["notificationInstance","defaultDuration","defaultTop","defaultBottom","defaultPlacement","defaultGetContainer","defaultCloseIcon","setNotificationConfig","options","duration","placement","bottom","top","getContainer","closeIcon","undefined","getPlacementStyle","style","left","right","getNotificationInstance","args","callback","outerPrefixCls","prefixCls","cacheKey","cacheInstance","Promise","resolve","then","instance","closeIconToRender","Notification","newInstance","className","notification","typeToIcon","success","CheckCircleOutlined","info","InfoCircleOutlined","error","CloseCircleOutlined","warning","ExclamationCircleOutlined","getRCNoticeProps","iconNode","icon","type","React","createElement","autoMarginTag","description","content","message","btn","closable","onClose","onClick","key","api","open","notice","close","Object","keys","forEach","removeNotice","config","destroy","warn","useNotification"],"mappings":"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","sourcesContent":["import * as React from 'react';\nimport Notification from 'rc-notification';\nimport CloseOutlined from '@ant-design/icons/CloseOutlined';\nimport CheckCircleOutlined from '@ant-design/icons/CheckCircleOutlined';\nimport CloseCircleOutlined from '@ant-design/icons/CloseCircleOutlined';\nimport ExclamationCircleOutlined from '@ant-design/icons/ExclamationCircleOutlined';\nimport InfoCircleOutlined from '@ant-design/icons/InfoCircleOutlined';\nimport createUseNotification from './hooks/useNotification';\nconst notificationInstance = {};\nlet defaultDuration = 4.5;\nlet defaultTop = 24;\nlet defaultBottom = 24;\nlet defaultPlacement = 'topRight';\nlet defaultGetContainer;\nlet defaultCloseIcon;\nfunction setNotificationConfig(options) {\n    const { duration, placement, bottom, top, getContainer, closeIcon } = options;\n    if (duration !== undefined) {\n        defaultDuration = duration;\n    }\n    if (placement !== undefined) {\n        defaultPlacement = placement;\n    }\n    if (bottom !== undefined) {\n        defaultBottom = bottom;\n    }\n    if (top !== undefined) {\n        defaultTop = top;\n    }\n    if (getContainer !== undefined) {\n        defaultGetContainer = getContainer;\n    }\n    if (closeIcon !== undefined) {\n        defaultCloseIcon = closeIcon;\n    }\n}\nfunction getPlacementStyle(placement, top = defaultTop, bottom = defaultBottom) {\n    let style;\n    switch (placement) {\n        case 'topLeft':\n            style = {\n                left: 0,\n                top,\n                bottom: 'auto',\n            };\n            break;\n        case 'topRight':\n            style = {\n                right: 0,\n                top,\n                bottom: 'auto',\n            };\n            break;\n        case 'bottomLeft':\n            style = {\n                left: 0,\n                top: 'auto',\n                bottom,\n            };\n            break;\n        default:\n            style = {\n                right: 0,\n                top: 'auto',\n                bottom,\n            };\n            break;\n    }\n    return style;\n}\nfunction getNotificationInstance(args, callback) {\n    const { placement = defaultPlacement, top, bottom, getContainer = defaultGetContainer, closeIcon = defaultCloseIcon, } = args;\n    const outerPrefixCls = args.prefixCls || 'ant-notification';\n    const prefixCls = `${outerPrefixCls}-notice`;\n    const cacheKey = `${outerPrefixCls}-${placement}`;\n    const cacheInstance = notificationInstance[cacheKey];\n    if (cacheInstance) {\n        Promise.resolve(cacheInstance).then(instance => {\n            callback({ prefixCls, instance });\n        });\n        return;\n    }\n    const closeIconToRender = (<span className={`${outerPrefixCls}-close-x`}>\n      {closeIcon || <CloseOutlined className={`${outerPrefixCls}-close-icon`}/>}\n    </span>);\n    notificationInstance[cacheKey] = new Promise(resolve => {\n        Notification.newInstance({\n            prefixCls: outerPrefixCls,\n            className: `${outerPrefixCls}-${placement}`,\n            style: getPlacementStyle(placement, top, bottom),\n            getContainer,\n            closeIcon: closeIconToRender,\n        }, notification => {\n            resolve(notification);\n            callback({\n                prefixCls,\n                instance: notification,\n            });\n        });\n    });\n}\nconst typeToIcon = {\n    success: CheckCircleOutlined,\n    info: InfoCircleOutlined,\n    error: CloseCircleOutlined,\n    warning: ExclamationCircleOutlined,\n};\nfunction getRCNoticeProps(args, prefixCls) {\n    const duration = args.duration === undefined ? defaultDuration : args.duration;\n    let iconNode = null;\n    if (args.icon) {\n        iconNode = <span className={`${prefixCls}-icon`}>{args.icon}</span>;\n    }\n    else if (args.type) {\n        iconNode = React.createElement(typeToIcon[args.type] || null, {\n            className: `${prefixCls}-icon ${prefixCls}-icon-${args.type}`,\n        });\n    }\n    const autoMarginTag = !args.description && iconNode ? (<span className={`${prefixCls}-message-single-line-auto-margin`}/>) : null;\n    return {\n        content: (<div className={iconNode ? `${prefixCls}-with-icon` : ''}>\n        {iconNode}\n        <div className={`${prefixCls}-message`}>\n          {autoMarginTag}\n          {args.message}\n        </div>\n        <div className={`${prefixCls}-description`}>{args.description}</div>\n        {args.btn ? <span className={`${prefixCls}-btn`}>{args.btn}</span> : null}\n      </div>),\n        duration,\n        closable: true,\n        onClose: args.onClose,\n        onClick: args.onClick,\n        key: args.key,\n        style: args.style || {},\n        className: args.className,\n    };\n}\nconst api = {\n    open: (args) => {\n        getNotificationInstance(args, ({ prefixCls, instance }) => {\n            instance.notice(getRCNoticeProps(args, prefixCls));\n        });\n    },\n    close(key) {\n        Object.keys(notificationInstance).forEach(cacheKey => Promise.resolve(notificationInstance[cacheKey]).then(instance => {\n            instance.removeNotice(key);\n        }));\n    },\n    config: setNotificationConfig,\n    destroy() {\n        Object.keys(notificationInstance).forEach(cacheKey => {\n            Promise.resolve(notificationInstance[cacheKey]).then(instance => {\n                instance.destroy();\n            });\n            delete notificationInstance[cacheKey]; // lgtm[js/missing-await]\n        });\n    },\n};\n['success', 'info', 'warning', 'error'].forEach(type => {\n    api[type] = (args) => api.open(Object.assign(Object.assign({}, args), { type }));\n});\napi.warn = api.warning;\napi.useNotification = createUseNotification(getNotificationInstance, getRCNoticeProps);\nexport default api;\n"],"file":"index.js"}