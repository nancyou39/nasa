{"version":3,"sources":["modal/useModal/index.jsx"],"names":["uuid","useModal","elements","patchElement","getConfirmFunc","withFunc","hookConfirm","config","modalRef","React","createRef","closeFunc","modal","destroy","current","update","newConfig","info","withInfo","success","withSuccess","error","withError","warning","withWarn","confirm","withConfirm"],"mappings":";;;;;;;;;AAAA;;AACA;;AACA;;AACA;;;;;;;;;;;;;;;;AACA,IAAIA,IAAI,GAAG,CAAX;;AACe,SAASC,QAAT,GAAoB;AAAA,yBACE,mCADF;AAAA;AAAA,MACxBC,QADwB;AAAA,MACdC,YADc;;AAE/B,WAASC,cAAT,CAAwBC,QAAxB,EAAkC;AAC9B,WAAO,SAASC,WAAT,CAAqBC,MAArB,EAA6B;AAChCP,MAAAA,IAAI,IAAI,CAAR;AACA,UAAMQ,QAAQ,GAAGC,KAAK,CAACC,SAAN,EAAjB;AACA,UAAIC,SAAJ;AACA,UAAMC,KAAK,GAAI,oBAAC,qBAAD;AAAW,QAAA,GAAG,kBAAWZ,IAAX,CAAd;AAAiC,QAAA,MAAM,EAAEK,QAAQ,CAACE,MAAD,CAAjD;AAA2D,QAAA,GAAG,EAAEC,QAAhE;AAA0E,QAAA,UAAU,EAAE,sBAAM;AACvGG,UAAAA,SAAS;AACZ;AAFc,QAAf;AAGAA,MAAAA,SAAS,GAAGR,YAAY,CAACS,KAAD,CAAxB;AACA,aAAO;AACHC,QAAAA,OAAO,EAAE,mBAAM;AACX,cAAIL,QAAQ,CAACM,OAAb,EAAsB;AAClBN,YAAAA,QAAQ,CAACM,OAAT,CAAiBD,OAAjB;AACH;AACJ,SALE;AAMHE,QAAAA,MAAM,EAAE,gBAACC,SAAD,EAAe;AACnB,cAAIR,QAAQ,CAACM,OAAb,EAAsB;AAClBN,YAAAA,QAAQ,CAACM,OAAT,CAAiBC,MAAjB,CAAwBC,SAAxB;AACH;AACJ;AAVE,OAAP;AAYH,KApBD;AAqBH;;AACD,SAAO,CACH;AACIC,IAAAA,IAAI,EAAEb,cAAc,CAACc,iBAAD,CADxB;AAEIC,IAAAA,OAAO,EAAEf,cAAc,CAACgB,oBAAD,CAF3B;AAGIC,IAAAA,KAAK,EAAEjB,cAAc,CAACkB,kBAAD,CAHzB;AAIIC,IAAAA,OAAO,EAAEnB,cAAc,CAACoB,iBAAD,CAJ3B;AAKIC,IAAAA,OAAO,EAAErB,cAAc,CAACsB,oBAAD;AAL3B,GADG,EAQH,0CAAGxB,QAAH,CARG,CAAP;AAUH","sourcesContent":["import * as React from 'react';\nimport usePatchElement from '../../_util/usePatchElement';\nimport HookModal from './HookModal';\nimport { withConfirm, withInfo, withSuccess, withError, withWarn, } from '../confirm';\nlet uuid = 0;\nexport default function useModal() {\n    const [elements, patchElement] = usePatchElement();\n    function getConfirmFunc(withFunc) {\n        return function hookConfirm(config) {\n            uuid += 1;\n            const modalRef = React.createRef();\n            let closeFunc;\n            const modal = (<HookModal key={`modal-${uuid}`} config={withFunc(config)} ref={modalRef} afterClose={() => {\n                closeFunc();\n            }}/>);\n            closeFunc = patchElement(modal);\n            return {\n                destroy: () => {\n                    if (modalRef.current) {\n                        modalRef.current.destroy();\n                    }\n                },\n                update: (newConfig) => {\n                    if (modalRef.current) {\n                        modalRef.current.update(newConfig);\n                    }\n                },\n            };\n        };\n    }\n    return [\n        {\n            info: getConfirmFunc(withInfo),\n            success: getConfirmFunc(withSuccess),\n            error: getConfirmFunc(withError),\n            warning: getConfirmFunc(withWarn),\n            confirm: getConfirmFunc(withConfirm),\n        },\n        <>{elements}</>,\n    ];\n}\n"],"file":"index.js"}