{"version":3,"sources":["modal/confirm.jsx"],"names":["__rest","s","e","t","p","Object","prototype","hasOwnProperty","call","indexOf","getOwnPropertySymbols","i","length","propertyIsEnumerable","confirm","config","div","document","createElement","body","appendChild","currentConfig","close","visible","destroy","unmountResult","ReactDOM","unmountComponentAtNode","parentNode","removeChild","args","triggerCancel","some","param","onCancel","destroyFns","fn","splice","render","_a","okText","cancelText","props","runtimeLocale","okCancel","justOkText","afterClose","bind","update","newConfig","push","withWarn","type","icon","withInfo","withSuccess","withError","withConfirm"],"mappings":"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","sourcesContent":["var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport * as ReactDOM from 'react-dom';\nimport InfoCircleOutlined from '@ant-design/icons/InfoCircleOutlined';\nimport CheckCircleOutlined from '@ant-design/icons/CheckCircleOutlined';\nimport CloseCircleOutlined from '@ant-design/icons/CloseCircleOutlined';\nimport ExclamationCircleOutlined from '@ant-design/icons/ExclamationCircleOutlined';\nimport { getConfirmLocale } from './locale';\nimport { destroyFns } from './Modal';\nimport ConfirmDialog from './ConfirmDialog';\nexport default function confirm(config) {\n    const div = document.createElement('div');\n    document.body.appendChild(div);\n    // eslint-disable-next-line no-use-before-define\n    let currentConfig = Object.assign(Object.assign({}, config), { close, visible: true });\n    function destroy(...args) {\n        const unmountResult = ReactDOM.unmountComponentAtNode(div);\n        if (unmountResult && div.parentNode) {\n            div.parentNode.removeChild(div);\n        }\n        const triggerCancel = args.some(param => param && param.triggerCancel);\n        if (config.onCancel && triggerCancel) {\n            config.onCancel(...args);\n        }\n        for (let i = 0; i < destroyFns.length; i++) {\n            const fn = destroyFns[i];\n            // eslint-disable-next-line no-use-before-define\n            if (fn === close) {\n                destroyFns.splice(i, 1);\n                break;\n            }\n        }\n    }\n    function render(_a) {\n        var { okText, cancelText } = _a, props = __rest(_a, [\"okText\", \"cancelText\"]);\n        const runtimeLocale = getConfirmLocale();\n        ReactDOM.render(<ConfirmDialog {...props} okText={okText || (props.okCancel ? runtimeLocale.okText : runtimeLocale.justOkText)} cancelText={cancelText || runtimeLocale.cancelText}/>, div);\n    }\n    function close(...args) {\n        currentConfig = Object.assign(Object.assign({}, currentConfig), { visible: false, afterClose: destroy.bind(this, ...args) });\n        render(currentConfig);\n    }\n    function update(newConfig) {\n        currentConfig = Object.assign(Object.assign({}, currentConfig), newConfig);\n        render(currentConfig);\n    }\n    render(currentConfig);\n    destroyFns.push(close);\n    return {\n        destroy: close,\n        update,\n    };\n}\nexport function withWarn(props) {\n    return Object.assign({ type: 'warning', icon: <ExclamationCircleOutlined />, okCancel: false }, props);\n}\nexport function withInfo(props) {\n    return Object.assign({ type: 'info', icon: <InfoCircleOutlined />, okCancel: false }, props);\n}\nexport function withSuccess(props) {\n    return Object.assign({ type: 'success', icon: <CheckCircleOutlined />, okCancel: false }, props);\n}\nexport function withError(props) {\n    return Object.assign({ type: 'error', icon: <CloseCircleOutlined />, okCancel: false }, props);\n}\nexport function withConfirm(props) {\n    return Object.assign({ type: 'confirm', okCancel: true }, props);\n}\n"],"file":"confirm.js"}