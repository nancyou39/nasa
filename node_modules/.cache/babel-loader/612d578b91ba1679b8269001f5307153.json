{"ast":null,"code":"function _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}\n\nfunction _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n}\n\nimport raf from 'raf';\nexport default function throttleByAnimationFrame(fn) {\n  var requestId;\n\n  var later = function later(args) {\n    return function () {\n      requestId = null;\n      fn.apply(void 0, _toConsumableArray(args));\n    };\n  };\n\n  var throttled = function throttled() {\n    if (requestId == null) {\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      requestId = raf(later(args));\n    }\n  };\n\n  throttled.cancel = function () {\n    return raf.cancel(requestId);\n  };\n\n  return throttled;\n}\nexport function throttleByAnimationFrameDecorator() {\n  // eslint-disable-next-line func-names\n  return function (target, key, descriptor) {\n    var fn = descriptor.value;\n    var definingProperty = false;\n    return {\n      configurable: true,\n      get: function get() {\n        // eslint-disable-next-line no-prototype-builtins\n        if (definingProperty || this === target.prototype || this.hasOwnProperty(key)) {\n          return fn;\n        }\n\n        var boundFn = throttleByAnimationFrame(fn.bind(this));\n        definingProperty = true;\n        Object.defineProperty(this, key, {\n          value: boundFn,\n          configurable: true,\n          writable: true\n        });\n        definingProperty = false;\n        return boundFn;\n      }\n    };\n  };\n}","map":{"version":3,"sources":["_util/throttleByAnimationFrame.jsx"],"names":["later","requestId","fn","throttled","args","raf","descriptor","definingProperty","configurable","get","target","boundFn","throttleByAnimationFrame","Object","value","writable"],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAAA,OAAA,GAAA,MAAA,KAAA;AACA,eAAe,SAAA,wBAAA,CAAA,EAAA,EAAsC;AACjD,MAAA,SAAA;;AACA,MAAMA,KAAK,GAAG,SAARA,KAAQ,CAAA,IAAA,EAAA;AAAA,WAAU,YAAM;AAC1BC,MAAAA,SAAS,GAATA,IAAAA;AACAC,MAAAA,EAAE,CAAFA,KAAAA,CAAAA,KAAAA,CAAAA,EAAAA,kBAAAA,CAAAA,IAAAA,CAAAA;AAFU,KAAA;AAAd,GAAA;;AAIA,MAAMC,SAAS,GAAG,SAAZA,SAAY,GAAa;AAC3B,QAAIF,SAAS,IAAb,IAAA,EAAuB;AAAA,WAAA,IAAA,IAAA,GAAA,SAAA,CAAA,MAAA,EADLG,IACK,GAAA,IAAA,KAAA,CAAA,IAAA,CAAA,EAAA,IAAA,GAAA,CAAA,EAAA,IAAA,GAAA,IAAA,EAAA,IAAA,EAAA,EAAA;AADLA,QAAAA,IACK,CAAA,IAAA,CADLA,GACK,SAAA,CAAA,IAAA,CADLA;AACK;;AACnBH,MAAAA,SAAS,GAAGI,GAAG,CAACL,KAAK,CAArBC,IAAqB,CAAN,CAAfA;AACH;AAHL,GAAA;;AAKAE,EAAAA,SAAS,CAATA,MAAAA,GAAmB,YAAA;AAAA,WAAME,GAAG,CAAHA,MAAAA,CAAN,SAAMA,CAAN;AAAnBF,GAAAA;;AACA,SAAA,SAAA;AACH;AACD,OAAO,SAAA,iCAAA,GAA6C;AAChD;AACA,SAAO,UAAA,MAAA,EAAA,GAAA,EAAA,UAAA,EAAmC;AACtC,QAAMD,EAAE,GAAGI,UAAU,CAArB,KAAA;AACA,QAAIC,gBAAgB,GAApB,KAAA;AACA,WAAO;AACHC,MAAAA,YAAY,EADT,IAAA;AAEHC,MAAAA,GAFG,EAAA,SAAA,GAAA,GAEG;AACF;AACA,YAAIF,gBAAgB,IAAI,SAASG,MAAM,CAAnCH,SAAAA,IAAiD,KAAA,cAAA,CAArD,GAAqD,CAArD,EAA+E;AAC3E,iBAAA,EAAA;AACH;;AACD,YAAMI,OAAO,GAAGC,wBAAwB,CAACV,EAAE,CAAFA,IAAAA,CAAzC,IAAyCA,CAAD,CAAxC;AACAK,QAAAA,gBAAgB,GAAhBA,IAAAA;AACAM,QAAAA,MAAM,CAANA,cAAAA,CAAAA,IAAAA,EAAAA,GAAAA,EAAiC;AAC7BC,UAAAA,KAAK,EADwB,OAAA;AAE7BN,UAAAA,YAAY,EAFiB,IAAA;AAG7BO,UAAAA,QAAQ,EAAE;AAHmB,SAAjCF;AAKAN,QAAAA,gBAAgB,GAAhBA,KAAAA;AACA,eAAA,OAAA;AACH;AAhBE,KAAP;AAHJ,GAAA;AAsBH","sourcesContent":["import raf from 'raf';\nexport default function throttleByAnimationFrame(fn) {\n    let requestId;\n    const later = (args) => () => {\n        requestId = null;\n        fn(...args);\n    };\n    const throttled = (...args) => {\n        if (requestId == null) {\n            requestId = raf(later(args));\n        }\n    };\n    throttled.cancel = () => raf.cancel(requestId);\n    return throttled;\n}\nexport function throttleByAnimationFrameDecorator() {\n    // eslint-disable-next-line func-names\n    return function (target, key, descriptor) {\n        const fn = descriptor.value;\n        let definingProperty = false;\n        return {\n            configurable: true,\n            get() {\n                // eslint-disable-next-line no-prototype-builtins\n                if (definingProperty || this === target.prototype || this.hasOwnProperty(key)) {\n                    return fn;\n                }\n                const boundFn = throttleByAnimationFrame(fn.bind(this));\n                definingProperty = true;\n                Object.defineProperty(this, key, {\n                    value: boundFn,\n                    configurable: true,\n                    writable: true,\n                });\n                definingProperty = false;\n                return boundFn;\n            },\n        };\n    };\n}\n"]},"metadata":{},"sourceType":"module"}