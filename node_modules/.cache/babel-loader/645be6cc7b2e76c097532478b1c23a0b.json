{"ast":null,"code":"\"use strict\";\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest();\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) {\n    return;\n  }\n\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) {\n    if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\n  }\n  result[\"default\"] = mod;\n  return result;\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar React = __importStar(require(\"react\"));\n\nvar miscUtil_1 = require(\"../utils/miscUtil\");\n\nvar dateUtil_1 = require(\"../utils/dateUtil\");\n\nfunction getStartEndDistance(startDate, endDate, picker, generateConfig) {\n  var startNext = dateUtil_1.getClosingViewDate(startDate, picker, generateConfig, 1);\n\n  function getDistance(compareFunc) {\n    if (compareFunc(startDate, endDate)) {\n      return 'same';\n    }\n\n    if (compareFunc(startNext, endDate)) {\n      return 'closing';\n    }\n\n    return 'far';\n  }\n\n  switch (picker) {\n    case 'year':\n      return getDistance(function (start, end) {\n        return dateUtil_1.isSameDecade(generateConfig, start, end);\n      });\n\n    case 'month':\n      return getDistance(function (start, end) {\n        return dateUtil_1.isSameYear(generateConfig, start, end);\n      });\n\n    default:\n      return getDistance(function (start, end) {\n        return dateUtil_1.isSameMonth(generateConfig, start, end);\n      });\n  }\n}\n\nfunction getRangeViewDate(values, index, picker, generateConfig) {\n  var startDate = miscUtil_1.getValue(values, 0);\n  var endDate = miscUtil_1.getValue(values, 1);\n\n  if (index === 0) {\n    return startDate;\n  }\n\n  if (startDate && endDate) {\n    var distance = getStartEndDistance(startDate, endDate, picker, generateConfig);\n\n    switch (distance) {\n      case 'same':\n        return startDate;\n\n      case 'closing':\n        return startDate;\n\n      default:\n        return dateUtil_1.getClosingViewDate(endDate, picker, generateConfig, -1);\n    }\n  }\n\n  return startDate;\n}\n\nfunction useRangeViewDates(_ref) {\n  var values = _ref.values,\n      picker = _ref.picker,\n      defaultDates = _ref.defaultDates,\n      generateConfig = _ref.generateConfig;\n\n  var _React$useState = React.useState(function () {\n    return [miscUtil_1.getValue(defaultDates, 0), miscUtil_1.getValue(defaultDates, 1)];\n  }),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      defaultViewDates = _React$useState2[0],\n      setDefaultViewDates = _React$useState2[1];\n\n  var _React$useState3 = React.useState(null),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      viewDates = _React$useState4[0],\n      setInternalViewDates = _React$useState4[1];\n\n  var startDate = miscUtil_1.getValue(values, 0);\n  var endDate = miscUtil_1.getValue(values, 1);\n\n  function getViewDate(index) {\n    // If set default view date, use it\n    if (defaultViewDates[index]) {\n      return defaultViewDates[index];\n    }\n\n    return miscUtil_1.getValue(viewDates, index) || getRangeViewDate(values, index, picker, generateConfig) || startDate || endDate || generateConfig.getNow();\n  }\n\n  function setViewDate(viewDate, index) {\n    if (viewDate) {\n      var newViewDates = miscUtil_1.updateValues(viewDates, viewDate, index); // Set view date will clean up default one\n\n      setDefaultViewDates( // Should always be an array\n      miscUtil_1.updateValues(defaultViewDates, null, index) || [null, null]); // Reset another one when not have value\n\n      var anotherIndex = (index + 1) % 2;\n\n      if (miscUtil_1.getValue(values, anotherIndex)) {\n        newViewDates = miscUtil_1.updateValues(newViewDates, viewDate, anotherIndex);\n      }\n\n      setInternalViewDates(newViewDates);\n    } else if (startDate || endDate) {\n      // Reset all when has values when `viewDate` is `null` which means from open trigger\n      setInternalViewDates(null);\n    }\n  }\n\n  return [getViewDate, setViewDate];\n}\n\nexports.default = useRangeViewDates;","map":{"version":3,"sources":["/Users/nancyou/Desktop/nasa/node_modules/rc-picker/es/hooks/useRangeViewDates.js"],"names":["_slicedToArray","arr","i","_arrayWithHoles","_iterableToArrayLimit","_nonIterableRest","TypeError","Symbol","iterator","Object","prototype","toString","call","_arr","_n","_d","_e","undefined","_i","_s","next","done","push","value","length","err","Array","isArray","__importStar","mod","__esModule","result","k","hasOwnProperty","defineProperty","exports","React","require","miscUtil_1","dateUtil_1","getStartEndDistance","startDate","endDate","picker","generateConfig","startNext","getClosingViewDate","getDistance","compareFunc","start","end","isSameDecade","isSameYear","isSameMonth","getRangeViewDate","values","index","getValue","distance","useRangeViewDates","_ref","defaultDates","_React$useState","useState","_React$useState2","defaultViewDates","setDefaultViewDates","_React$useState3","_React$useState4","viewDates","setInternalViewDates","getViewDate","getNow","setViewDate","viewDate","newViewDates","updateValues","anotherIndex","default"],"mappings":"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","sourcesContent":["\"use strict\";\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\n\nfunction _iterableToArrayLimit(arr, i) { if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) { return; } var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) {\n    if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\n  }\n  result[\"default\"] = mod;\n  return result;\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar React = __importStar(require(\"react\"));\n\nvar miscUtil_1 = require(\"../utils/miscUtil\");\n\nvar dateUtil_1 = require(\"../utils/dateUtil\");\n\nfunction getStartEndDistance(startDate, endDate, picker, generateConfig) {\n  var startNext = dateUtil_1.getClosingViewDate(startDate, picker, generateConfig, 1);\n\n  function getDistance(compareFunc) {\n    if (compareFunc(startDate, endDate)) {\n      return 'same';\n    }\n\n    if (compareFunc(startNext, endDate)) {\n      return 'closing';\n    }\n\n    return 'far';\n  }\n\n  switch (picker) {\n    case 'year':\n      return getDistance(function (start, end) {\n        return dateUtil_1.isSameDecade(generateConfig, start, end);\n      });\n\n    case 'month':\n      return getDistance(function (start, end) {\n        return dateUtil_1.isSameYear(generateConfig, start, end);\n      });\n\n    default:\n      return getDistance(function (start, end) {\n        return dateUtil_1.isSameMonth(generateConfig, start, end);\n      });\n  }\n}\n\nfunction getRangeViewDate(values, index, picker, generateConfig) {\n  var startDate = miscUtil_1.getValue(values, 0);\n  var endDate = miscUtil_1.getValue(values, 1);\n\n  if (index === 0) {\n    return startDate;\n  }\n\n  if (startDate && endDate) {\n    var distance = getStartEndDistance(startDate, endDate, picker, generateConfig);\n\n    switch (distance) {\n      case 'same':\n        return startDate;\n\n      case 'closing':\n        return startDate;\n\n      default:\n        return dateUtil_1.getClosingViewDate(endDate, picker, generateConfig, -1);\n    }\n  }\n\n  return startDate;\n}\n\nfunction useRangeViewDates(_ref) {\n  var values = _ref.values,\n      picker = _ref.picker,\n      defaultDates = _ref.defaultDates,\n      generateConfig = _ref.generateConfig;\n\n  var _React$useState = React.useState(function () {\n    return [miscUtil_1.getValue(defaultDates, 0), miscUtil_1.getValue(defaultDates, 1)];\n  }),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      defaultViewDates = _React$useState2[0],\n      setDefaultViewDates = _React$useState2[1];\n\n  var _React$useState3 = React.useState(null),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      viewDates = _React$useState4[0],\n      setInternalViewDates = _React$useState4[1];\n\n  var startDate = miscUtil_1.getValue(values, 0);\n  var endDate = miscUtil_1.getValue(values, 1);\n\n  function getViewDate(index) {\n    // If set default view date, use it\n    if (defaultViewDates[index]) {\n      return defaultViewDates[index];\n    }\n\n    return miscUtil_1.getValue(viewDates, index) || getRangeViewDate(values, index, picker, generateConfig) || startDate || endDate || generateConfig.getNow();\n  }\n\n  function setViewDate(viewDate, index) {\n    if (viewDate) {\n      var newViewDates = miscUtil_1.updateValues(viewDates, viewDate, index); // Set view date will clean up default one\n\n      setDefaultViewDates( // Should always be an array\n      miscUtil_1.updateValues(defaultViewDates, null, index) || [null, null]); // Reset another one when not have value\n\n      var anotherIndex = (index + 1) % 2;\n\n      if (miscUtil_1.getValue(values, anotherIndex)) {\n        newViewDates = miscUtil_1.updateValues(newViewDates, viewDate, anotherIndex);\n      }\n\n      setInternalViewDates(newViewDates);\n    } else if (startDate || endDate) {\n      // Reset all when has values when `viewDate` is `null` which means from open trigger\n      setInternalViewDates(null);\n    }\n  }\n\n  return [getViewDate, setViewDate];\n}\n\nexports.default = useRangeViewDates;"]},"metadata":{},"sourceType":"script"}