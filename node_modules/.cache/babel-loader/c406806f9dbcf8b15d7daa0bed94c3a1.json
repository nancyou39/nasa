{"ast":null,"code":"/**\n * Deprecated. We should replace the animation with pure react motion instead of modify style directly.\n * If you are creating new component with animation, please use `./motion`.\n */\nimport cssAnimation from 'css-animation';\nimport raf from 'raf';\n\nfunction animate(node, show, done) {\n  var height;\n  var requestAnimationFrameId;\n  return cssAnimation(node, 'ant-motion-collapse-legacy', {\n    start: function start() {\n      if (!show) {\n        node.style.height = \"\".concat(node.offsetHeight, \"px\");\n        node.style.opacity = '1';\n      } else {\n        height = node.offsetHeight;\n        node.style.height = '0px';\n        node.style.opacity = '0';\n      }\n    },\n    active: function active() {\n      if (requestAnimationFrameId) {\n        raf.cancel(requestAnimationFrameId);\n      }\n\n      requestAnimationFrameId = raf(function () {\n        node.style.height = \"\".concat(show ? height : 0, \"px\");\n        node.style.opacity = show ? '1' : '0';\n      });\n    },\n    end: function end() {\n      if (requestAnimationFrameId) {\n        raf.cancel(requestAnimationFrameId);\n      }\n\n      node.style.height = '';\n      node.style.opacity = '';\n      done();\n    }\n  });\n}\n\nvar animation = {\n  enter: function enter(node, done) {\n    return animate(node, true, done);\n  },\n  leave: function leave(node, done) {\n    return animate(node, false, done);\n  },\n  appear: function appear(node, done) {\n    return animate(node, true, done);\n  }\n};\nexport default animation;","map":{"version":3,"sources":["_util/openAnimation.jsx"],"names":["cssAnimation","start","node","height","active","raf","requestAnimationFrameId","show","end","done","animation","enter","animate","leave","appear"],"mappings":"AAAA;;;;AAIA,OAAA,YAAA,MAAA,eAAA;AACA,OAAA,GAAA,MAAA,KAAA;;AACA,SAAA,OAAA,CAAA,IAAA,EAAA,IAAA,EAAA,IAAA,EAAmC;AAC/B,MAAA,MAAA;AACA,MAAA,uBAAA;AACA,SAAOA,YAAY,CAAA,IAAA,EAAA,4BAAA,EAAqC;AACpDC,IAAAA,KADoD,EAAA,SAAA,KAAA,GAC5C;AACJ,UAAI,CAAJ,IAAA,EAAW;AACPC,QAAAA,IAAI,CAAJA,KAAAA,CAAAA,MAAAA,GAAAA,GAAAA,MAAAA,CAAuBA,IAAI,CAA3BA,YAAAA,EAAAA,IAAAA,CAAAA;AACAA,QAAAA,IAAI,CAAJA,KAAAA,CAAAA,OAAAA,GAAAA,GAAAA;AAFJ,OAAA,MAIK;AACDC,QAAAA,MAAM,GAAGD,IAAI,CAAbC,YAAAA;AACAD,QAAAA,IAAI,CAAJA,KAAAA,CAAAA,MAAAA,GAAAA,KAAAA;AACAA,QAAAA,IAAI,CAAJA,KAAAA,CAAAA,OAAAA,GAAAA,GAAAA;AACH;AAV+C,KAAA;AAYpDE,IAAAA,MAZoD,EAAA,SAAA,MAAA,GAY3C;AACL,UAAA,uBAAA,EAA6B;AACzBC,QAAAA,GAAG,CAAHA,MAAAA,CAAAA,uBAAAA;AACH;;AACDC,MAAAA,uBAAuB,GAAGD,GAAG,CAAC,YAAM;AAChCH,QAAAA,IAAI,CAAJA,KAAAA,CAAAA,MAAAA,GAAAA,GAAAA,MAAAA,CAAuBK,IAAI,GAAA,MAAA,GAA3BL,CAAAA,EAAAA,IAAAA,CAAAA;AACAA,QAAAA,IAAI,CAAJA,KAAAA,CAAAA,OAAAA,GAAqBK,IAAI,GAAA,GAAA,GAAzBL,GAAAA;AAFJI,OAA6B,CAA7BA;AAhBgD,KAAA;AAqBpDE,IAAAA,GArBoD,EAAA,SAAA,GAAA,GAqB9C;AACF,UAAA,uBAAA,EAA6B;AACzBH,QAAAA,GAAG,CAAHA,MAAAA,CAAAA,uBAAAA;AACH;;AACDH,MAAAA,IAAI,CAAJA,KAAAA,CAAAA,MAAAA,GAAAA,EAAAA;AACAA,MAAAA,IAAI,CAAJA,KAAAA,CAAAA,OAAAA,GAAAA,EAAAA;AACAO,MAAAA,IAAI;AACP;AA5BmD,GAArC,CAAnB;AA8BH;;AACD,IAAMC,SAAS,GAAG;AACdC,EAAAA,KADc,EAAA,SAAA,KAAA,CAAA,IAAA,EAAA,IAAA,EACI;AACd,WAAOC,OAAO,CAAA,IAAA,EAAA,IAAA,EAAd,IAAc,CAAd;AAFU,GAAA;AAIdC,EAAAA,KAJc,EAAA,SAAA,KAAA,CAAA,IAAA,EAAA,IAAA,EAII;AACd,WAAOD,OAAO,CAAA,IAAA,EAAA,KAAA,EAAd,IAAc,CAAd;AALU,GAAA;AAOdE,EAAAA,MAPc,EAAA,SAAA,MAAA,CAAA,IAAA,EAAA,IAAA,EAOK;AACf,WAAOF,OAAO,CAAA,IAAA,EAAA,IAAA,EAAd,IAAc,CAAd;AACH;AATa,CAAlB;AAWA,eAAA,SAAA","sourcesContent":["/**\n * Deprecated. We should replace the animation with pure react motion instead of modify style directly.\n * If you are creating new component with animation, please use `./motion`.\n */\nimport cssAnimation from 'css-animation';\nimport raf from 'raf';\nfunction animate(node, show, done) {\n    let height;\n    let requestAnimationFrameId;\n    return cssAnimation(node, 'ant-motion-collapse-legacy', {\n        start() {\n            if (!show) {\n                node.style.height = `${node.offsetHeight}px`;\n                node.style.opacity = '1';\n            }\n            else {\n                height = node.offsetHeight;\n                node.style.height = '0px';\n                node.style.opacity = '0';\n            }\n        },\n        active() {\n            if (requestAnimationFrameId) {\n                raf.cancel(requestAnimationFrameId);\n            }\n            requestAnimationFrameId = raf(() => {\n                node.style.height = `${show ? height : 0}px`;\n                node.style.opacity = show ? '1' : '0';\n            });\n        },\n        end() {\n            if (requestAnimationFrameId) {\n                raf.cancel(requestAnimationFrameId);\n            }\n            node.style.height = '';\n            node.style.opacity = '';\n            done();\n        },\n    });\n}\nconst animation = {\n    enter(node, done) {\n        return animate(node, true, done);\n    },\n    leave(node, done) {\n        return animate(node, false, done);\n    },\n    appear(node, done) {\n        return animate(node, true, done);\n    },\n};\nexport default animation;\n"]},"metadata":{},"sourceType":"module"}