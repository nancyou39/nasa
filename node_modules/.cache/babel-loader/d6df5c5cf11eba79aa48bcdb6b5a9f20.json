{"ast":null,"code":"\"use strict\";\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest();\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) {\n    return;\n  }\n\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) {\n    if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\n  }\n  result[\"default\"] = mod;\n  return result;\n};\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar React = __importStar(require(\"react\"));\n\nvar classnames_1 = __importDefault(require(\"classnames\"));\n\nvar warning_1 = __importDefault(require(\"rc-util/lib/warning\"));\n\nvar useMergedState_1 = __importDefault(require(\"rc-util/lib/hooks/useMergedState\"));\n\nvar PickerTrigger_1 = __importDefault(require(\"./PickerTrigger\"));\n\nvar PickerPanel_1 = __importDefault(require(\"./PickerPanel\"));\n\nvar usePickerInput_1 = __importDefault(require(\"./hooks/usePickerInput\"));\n\nvar miscUtil_1 = __importStar(require(\"./utils/miscUtil\"));\n\nvar uiUtil_1 = require(\"./utils/uiUtil\");\n\nvar PanelContext_1 = __importDefault(require(\"./PanelContext\"));\n\nvar dateUtil_1 = require(\"./utils/dateUtil\");\n\nvar useValueTexts_1 = __importDefault(require(\"./hooks/useValueTexts\"));\n\nvar useTextValueMapping_1 = __importDefault(require(\"./hooks/useTextValueMapping\"));\n\nvar RangeContext_1 = __importDefault(require(\"./RangeContext\"));\n\nvar useRangeDisabled_1 = __importDefault(require(\"./hooks/useRangeDisabled\"));\n\nvar getExtraFooter_1 = __importDefault(require(\"./utils/getExtraFooter\"));\n\nvar getRanges_1 = __importDefault(require(\"./utils/getRanges\"));\n\nvar useRangeViewDates_1 = __importDefault(require(\"./hooks/useRangeViewDates\"));\n\nfunction reorderValues(values, generateConfig) {\n  if (values && values[0] && values[1] && generateConfig.isAfter(values[0], values[1])) {\n    return [values[1], values[0]];\n  }\n\n  return values;\n}\n\nfunction canValueTrigger(value, index, disabled, allowEmpty) {\n  if (value) {\n    return true;\n  }\n\n  if (allowEmpty && allowEmpty[index]) {\n    return true;\n  }\n\n  if (disabled[(index + 1) % 2]) {\n    return true;\n  }\n\n  return false;\n}\n\nfunction InnerRangePicker(props) {\n  var _classnames_1$default2;\n\n  var _props$prefixCls = props.prefixCls,\n      prefixCls = _props$prefixCls === void 0 ? 'rc-picker' : _props$prefixCls,\n      style = props.style,\n      className = props.className,\n      popupStyle = props.popupStyle,\n      dropdownClassName = props.dropdownClassName,\n      transitionName = props.transitionName,\n      dropdownAlign = props.dropdownAlign,\n      getPopupContainer = props.getPopupContainer,\n      generateConfig = props.generateConfig,\n      locale = props.locale,\n      placeholder = props.placeholder,\n      autoFocus = props.autoFocus,\n      disabled = props.disabled,\n      format = props.format,\n      _props$picker = props.picker,\n      picker = _props$picker === void 0 ? 'date' : _props$picker,\n      showTime = props.showTime,\n      use12Hours = props.use12Hours,\n      _props$separator = props.separator,\n      separator = _props$separator === void 0 ? '~' : _props$separator,\n      value = props.value,\n      defaultValue = props.defaultValue,\n      defaultPickerValue = props.defaultPickerValue,\n      open = props.open,\n      defaultOpen = props.defaultOpen,\n      disabledDate = props.disabledDate,\n      _disabledTime = props.disabledTime,\n      ranges = props.ranges,\n      allowEmpty = props.allowEmpty,\n      allowClear = props.allowClear,\n      suffixIcon = props.suffixIcon,\n      clearIcon = props.clearIcon,\n      pickerRef = props.pickerRef,\n      inputReadOnly = props.inputReadOnly,\n      mode = props.mode,\n      renderExtraFooter = props.renderExtraFooter,\n      onChange = props.onChange,\n      onOpenChange = props.onOpenChange,\n      onPanelChange = props.onPanelChange,\n      onCalendarChange = props.onCalendarChange,\n      _onFocus = props.onFocus,\n      onBlur = props.onBlur,\n      _onOk = props.onOk,\n      components = props.components,\n      direction = props.direction;\n  var needConfirmButton = picker === 'date' && !!showTime || picker === 'time';\n  var containerRef = React.useRef(null);\n  var panelDivRef = React.useRef(null);\n  var startInputDivRef = React.useRef(null);\n  var endInputDivRef = React.useRef(null);\n  var separatorRef = React.useRef(null);\n  var startInputRef = React.useRef(null);\n  var endInputRef = React.useRef(null); // ============================= Misc ==============================\n\n  var formatList = miscUtil_1.toArray(uiUtil_1.getDefaultFormat(format, picker, showTime, use12Hours)); // Active picker\n\n  var _React$useState = React.useState(0),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      activePickerIndex = _React$useState2[0],\n      setActivePickerIndex = _React$useState2[1]; // Operation ref\n\n\n  var operationRef = React.useRef(null);\n  var mergedDisabled = React.useMemo(function () {\n    if (Array.isArray(disabled)) {\n      return disabled;\n    }\n\n    return [disabled || false, disabled || false];\n  }, [disabled]); // ============================= Value =============================\n\n  var _useMergedState_1$def = useMergedState_1.default(null, {\n    value: value,\n    defaultValue: defaultValue,\n    postState: function postState(values) {\n      return reorderValues(values, generateConfig);\n    }\n  }),\n      _useMergedState_1$def2 = _slicedToArray(_useMergedState_1$def, 2),\n      mergedValue = _useMergedState_1$def2[0],\n      setInnerValue = _useMergedState_1$def2[1]; // =========================== View Date ===========================\n  // Config view panel\n\n\n  var _useRangeViewDates_1$ = useRangeViewDates_1.default({\n    values: mergedValue,\n    picker: picker,\n    defaultDates: defaultPickerValue,\n    generateConfig: generateConfig\n  }),\n      _useRangeViewDates_1$2 = _slicedToArray(_useRangeViewDates_1$, 2),\n      getViewDate = _useRangeViewDates_1$2[0],\n      setViewDate = _useRangeViewDates_1$2[1]; // ========================= Select Values =========================\n\n\n  var _useMergedState_1$def3 = useMergedState_1.default(mergedValue, {\n    postState: function postState(values) {\n      var postValues = values;\n\n      for (var i = 0; i < 2; i += 1) {\n        if (mergedDisabled[i] && !miscUtil_1.getValue(postValues, i) && !miscUtil_1.getValue(allowEmpty, i)) {\n          postValues = miscUtil_1.updateValues(postValues, generateConfig.getNow(), i);\n        }\n      }\n\n      return postValues;\n    }\n  }),\n      _useMergedState_1$def4 = _slicedToArray(_useMergedState_1$def3, 2),\n      selectedValue = _useMergedState_1$def4[0],\n      setSelectedValue = _useMergedState_1$def4[1];\n\n  var _React$useState3 = React.useState(null),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      rangeHoverValue = _React$useState4[0],\n      setRangeHoverValue = _React$useState4[1]; // ========================== Hover Range ==========================\n\n\n  var _React$useState5 = React.useState(null),\n      _React$useState6 = _slicedToArray(_React$useState5, 2),\n      hoverRangedValue = _React$useState6[0],\n      setHoverRangedValue = _React$useState6[1];\n\n  var onDateMouseEnter = function onDateMouseEnter(date) {\n    setHoverRangedValue(miscUtil_1.updateValues(selectedValue, date, activePickerIndex));\n  };\n\n  var onDateMouseLeave = function onDateMouseLeave() {\n    setHoverRangedValue(miscUtil_1.updateValues(selectedValue, null, activePickerIndex));\n  }; // ============================= Modes =============================\n\n\n  var _useMergedState_1$def5 = useMergedState_1.default([picker, picker], {\n    value: mode\n  }),\n      _useMergedState_1$def6 = _slicedToArray(_useMergedState_1$def5, 2),\n      mergedModes = _useMergedState_1$def6[0],\n      setInnerModes = _useMergedState_1$def6[1];\n\n  React.useEffect(function () {\n    setInnerModes([picker, picker]);\n  }, [picker]);\n\n  var triggerModesChange = function triggerModesChange(modes, values) {\n    setInnerModes(modes);\n\n    if (onPanelChange) {\n      onPanelChange(values, modes);\n    }\n  }; // ========================= Disable Date ==========================\n\n\n  var _useRangeDisabled_1$d = useRangeDisabled_1.default({\n    picker: picker,\n    selectedValue: selectedValue,\n    locale: locale,\n    disabled: mergedDisabled,\n    disabledDate: disabledDate,\n    generateConfig: generateConfig\n  }),\n      _useRangeDisabled_1$d2 = _slicedToArray(_useRangeDisabled_1$d, 2),\n      disabledStartDate = _useRangeDisabled_1$d2[0],\n      disabledEndDate = _useRangeDisabled_1$d2[1]; // ============================= Open ==============================\n\n\n  var _useMergedState_1$def7 = useMergedState_1.default(false, {\n    value: open,\n    defaultValue: defaultOpen,\n    postState: function postState(postOpen) {\n      return mergedDisabled[activePickerIndex] ? false : postOpen;\n    },\n    onChange: function onChange(newOpen) {\n      if (onOpenChange) {\n        onOpenChange(newOpen);\n      }\n\n      if (!newOpen && operationRef.current && operationRef.current.onClose) {\n        operationRef.current.onClose();\n      }\n    }\n  }),\n      _useMergedState_1$def8 = _slicedToArray(_useMergedState_1$def7, 2),\n      mergedOpen = _useMergedState_1$def8[0],\n      triggerInnerOpen = _useMergedState_1$def8[1];\n\n  var startOpen = mergedOpen && activePickerIndex === 0;\n  var endOpen = mergedOpen && activePickerIndex === 1; // ============================= Popup =============================\n  // Popup min width\n\n  var _React$useState7 = React.useState(0),\n      _React$useState8 = _slicedToArray(_React$useState7, 2),\n      popupMinWidth = _React$useState8[0],\n      setPopupMinWidth = _React$useState8[1];\n\n  React.useEffect(function () {\n    if (!mergedOpen && containerRef.current) {\n      setPopupMinWidth(containerRef.current.offsetWidth);\n    }\n  }, [mergedOpen]); // ============================ Trigger ============================\n\n  var _triggerOpen;\n\n  var triggerChange = function triggerChange(newValue) {\n    var config = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var _config$forceInput = config.forceInput,\n        forceInput = _config$forceInput === void 0 ? true : _config$forceInput,\n        source = config.source;\n    var values = newValue;\n    var startValue = miscUtil_1.getValue(values, 0);\n    var endValue = miscUtil_1.getValue(values, 1);\n\n    if (startValue && endValue && generateConfig.isAfter(startValue, endValue)) {\n      if (!dateUtil_1.isSameDate(generateConfig, startValue, endValue)) {\n        // Clean up end date when start date is after end date\n        values = [startValue, null];\n        endValue = null;\n      } else {\n        // Reorder when in same date\n        values = [endValue, startValue];\n      }\n    }\n\n    setSelectedValue(values);\n    var startStr = values && values[0] ? generateConfig.locale.format(locale.locale, values[0], formatList[0]) : '';\n    var endStr = values && values[1] ? generateConfig.locale.format(locale.locale, values[1], formatList[0]) : '';\n\n    if (onCalendarChange) {\n      onCalendarChange(values, [startStr, endStr]);\n    }\n\n    var canStartValueTrigger = canValueTrigger(startValue, 0, mergedDisabled, allowEmpty);\n    var canEndValueTrigger = canValueTrigger(endValue, 1, mergedDisabled, allowEmpty);\n    var canTrigger = values === null || canStartValueTrigger && canEndValueTrigger;\n\n    if (canTrigger) {\n      // Trigger onChange only when value is validate\n      setInnerValue(values);\n\n      if (source !== 'open') {\n        _triggerOpen(false, activePickerIndex, true);\n      }\n\n      if (onChange && (!dateUtil_1.isEqual(generateConfig, miscUtil_1.getValue(mergedValue, 0), startValue) || !dateUtil_1.isEqual(generateConfig, miscUtil_1.getValue(mergedValue, 1), endValue))) {\n        onChange(values, [startStr, endStr]);\n      }\n    } else if (forceInput) {\n      // Open miss value panel to force user input\n      var missingValueIndex = canStartValueTrigger ? 1 : 0; // Same index means user choice to close picker\n\n      if (missingValueIndex === activePickerIndex) {\n        return;\n      }\n\n      if (source !== 'open') {\n        _triggerOpen(true, missingValueIndex);\n      } // Delay to focus to avoid input blur trigger expired selectedValues\n\n\n      setTimeout(function () {\n        var inputRef = [startInputRef, endInputRef][missingValueIndex];\n\n        if (inputRef.current) {\n          inputRef.current.focus();\n        }\n      }, 0);\n    }\n  };\n\n  _triggerOpen = function triggerOpen(newOpen, index) {\n    var preventChangeEvent = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n    if (newOpen) {\n      setActivePickerIndex(index);\n      triggerInnerOpen(newOpen); // Open to reset view date\n\n      if (!mergedOpen) {\n        setViewDate(null, index);\n      }\n    } else if (activePickerIndex === index) {\n      triggerInnerOpen(newOpen);\n\n      if (!preventChangeEvent) {\n        triggerChange(selectedValue, {\n          source: 'open'\n        });\n      }\n    }\n  };\n\n  var forwardKeyDown = function forwardKeyDown(e) {\n    if (mergedOpen && operationRef.current && operationRef.current.onKeyDown) {\n      // Let popup panel handle keyboard\n      return operationRef.current.onKeyDown(e);\n    }\n    /* istanbul ignore next */\n\n    /* eslint-disable no-lone-blocks */\n\n\n    {\n      warning_1.default(false, 'Picker not correct forward KeyDown operation. Please help to fire issue about this.');\n      return false;\n    }\n  }; // ============================= Text ==============================\n\n\n  var sharedTextHooksProps = {\n    formatList: formatList,\n    generateConfig: generateConfig,\n    locale: locale\n  };\n  var startValueTexts = useValueTexts_1.default(miscUtil_1.getValue(selectedValue, 0), sharedTextHooksProps);\n  var endValueTexts = useValueTexts_1.default(miscUtil_1.getValue(selectedValue, 1), sharedTextHooksProps);\n\n  var _onTextChange = function onTextChange(newText, index) {\n    var inputDate = generateConfig.locale.parse(locale.locale, newText, formatList);\n    var disabledFunc = index === 0 ? disabledStartDate : disabledEndDate;\n\n    if (inputDate && !disabledFunc(inputDate)) {\n      setSelectedValue(miscUtil_1.updateValues(selectedValue, inputDate, index));\n      setViewDate(inputDate, index);\n    }\n  };\n\n  var _useTextValueMapping_ = useTextValueMapping_1.default({\n    valueTexts: startValueTexts,\n    onTextChange: function onTextChange(newText) {\n      return _onTextChange(newText, 0);\n    }\n  }),\n      _useTextValueMapping_2 = _slicedToArray(_useTextValueMapping_, 3),\n      startText = _useTextValueMapping_2[0],\n      triggerStartTextChange = _useTextValueMapping_2[1],\n      resetStartText = _useTextValueMapping_2[2];\n\n  var _useTextValueMapping_3 = useTextValueMapping_1.default({\n    valueTexts: endValueTexts,\n    onTextChange: function onTextChange(newText) {\n      return _onTextChange(newText, 1);\n    }\n  }),\n      _useTextValueMapping_4 = _slicedToArray(_useTextValueMapping_3, 3),\n      endText = _useTextValueMapping_4[0],\n      triggerEndTextChange = _useTextValueMapping_4[1],\n      resetEndText = _useTextValueMapping_4[2]; // ============================= Input =============================\n\n\n  var getSharedInputHookProps = function getSharedInputHookProps(index, resetText) {\n    return {\n      blurToCancel: needConfirmButton,\n      forwardKeyDown: forwardKeyDown,\n      onBlur: onBlur,\n      isClickOutside: function isClickOutside(target) {\n        return !uiUtil_1.elementsContains([panelDivRef.current, startInputDivRef.current, endInputDivRef.current], target);\n      },\n      onFocus: function onFocus(e) {\n        setActivePickerIndex(index);\n\n        if (_onFocus) {\n          _onFocus(e);\n        }\n      },\n      triggerOpen: function triggerOpen(newOpen) {\n        return _triggerOpen(newOpen, index);\n      },\n      onSubmit: function onSubmit() {\n        triggerChange(selectedValue);\n        resetText();\n      },\n      onCancel: function onCancel() {\n        _triggerOpen(false, index, true);\n\n        setSelectedValue(mergedValue);\n        resetText();\n      }\n    };\n  };\n\n  var _usePickerInput_1$def = usePickerInput_1.default(_objectSpread({}, getSharedInputHookProps(0, resetStartText), {\n    open: startOpen\n  })),\n      _usePickerInput_1$def2 = _slicedToArray(_usePickerInput_1$def, 2),\n      startInputProps = _usePickerInput_1$def2[0],\n      _usePickerInput_1$def3 = _usePickerInput_1$def2[1],\n      startFocused = _usePickerInput_1$def3.focused,\n      startTyping = _usePickerInput_1$def3.typing;\n\n  var _usePickerInput_1$def4 = usePickerInput_1.default(_objectSpread({}, getSharedInputHookProps(1, resetEndText), {\n    open: endOpen\n  })),\n      _usePickerInput_1$def5 = _slicedToArray(_usePickerInput_1$def4, 2),\n      endInputProps = _usePickerInput_1$def5[0],\n      _usePickerInput_1$def6 = _usePickerInput_1$def5[1],\n      endFocused = _usePickerInput_1$def6.focused,\n      endTyping = _usePickerInput_1$def6.typing; // ============================= Sync ==============================\n  // Close should sync back with text value\n\n\n  var startStr = mergedValue && mergedValue[0] ? generateConfig.locale.format(locale.locale, mergedValue[0], 'YYYYMMDDHHmmss') : '';\n  var endStr = mergedValue && mergedValue[1] ? generateConfig.locale.format(locale.locale, mergedValue[1], 'YYYYMMDDHHmmss') : '';\n  React.useEffect(function () {\n    if (!mergedOpen) {\n      setSelectedValue(mergedValue);\n\n      if (!startValueTexts.length || startValueTexts[0] === '') {\n        triggerStartTextChange('');\n      } else if (!startValueTexts.includes(startText)) {\n        resetStartText();\n      }\n\n      if (!endValueTexts.length || endValueTexts[0] === '') {\n        triggerEndTextChange('');\n      } else if (!endValueTexts.includes(endText)) {\n        resetEndText();\n      }\n    }\n  }, [mergedOpen, startValueTexts, endValueTexts]); // Sync innerValue with control mode\n\n  React.useEffect(function () {\n    setSelectedValue(mergedValue);\n  }, [startStr, endStr]); // ============================ Warning ============================\n\n  if (process.env.NODE_ENV !== 'production') {\n    if (value && Array.isArray(disabled) && (miscUtil_1.getValue(disabled, 0) && !miscUtil_1.getValue(value, 0) || miscUtil_1.getValue(disabled, 1) && !miscUtil_1.getValue(value, 1))) {\n      warning_1.default(false, '`disabled` should not set with empty `value`. You should set `allowEmpty` or `value` instead.');\n    }\n  } // ============================ Private ============================\n\n\n  if (pickerRef) {\n    pickerRef.current = {\n      focus: function focus() {\n        if (startInputRef.current) {\n          startInputRef.current.focus();\n        }\n      },\n      blur: function blur() {\n        if (startInputRef.current) {\n          startInputRef.current.blur();\n        }\n\n        if (endInputRef.current) {\n          endInputRef.current.blur();\n        }\n      }\n    };\n  } // ============================ Ranges =============================\n\n\n  var rangeLabels = Object.keys(ranges || {});\n  var rangeList = rangeLabels.map(function (label) {\n    var range = ranges[label];\n    var newValues = typeof range === 'function' ? range() : range;\n    return {\n      label: label,\n      onClick: function onClick() {\n        triggerChange(newValues);\n      },\n      onMouseEnter: function onMouseEnter() {\n        setRangeHoverValue(newValues);\n      },\n      onMouseLeave: function onMouseLeave() {\n        setRangeHoverValue(null);\n      }\n    };\n  }); // ============================= Panel =============================\n\n  function renderPanel() {\n    var panelPosition = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n    var panelProps = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var panelHoverRangedValue = null;\n\n    if (mergedOpen && hoverRangedValue && hoverRangedValue[0] && hoverRangedValue[1] && generateConfig.isAfter(hoverRangedValue[1], hoverRangedValue[0])) {\n      panelHoverRangedValue = hoverRangedValue;\n    }\n\n    var panelShowTime = showTime;\n\n    if (showTime && _typeof(showTime) === 'object' && showTime.defaultValue) {\n      var timeDefaultValues = showTime.defaultValue;\n      panelShowTime = _objectSpread({}, showTime, {\n        defaultValue: miscUtil_1.getValue(timeDefaultValues, activePickerIndex) || undefined\n      });\n    }\n\n    return React.createElement(RangeContext_1.default.Provider, {\n      value: {\n        inRange: true,\n        panelPosition: panelPosition,\n        rangedValue: rangeHoverValue || selectedValue,\n        hoverRangedValue: panelHoverRangedValue\n      }\n    }, React.createElement(PickerPanel_1.default, Object.assign({}, props, panelProps, {\n      showTime: panelShowTime,\n      mode: mergedModes[activePickerIndex],\n      generateConfig: generateConfig,\n      style: undefined,\n      direction: direction,\n      disabledDate: activePickerIndex === 0 ? disabledStartDate : disabledEndDate,\n      disabledTime: function disabledTime(date) {\n        if (_disabledTime) {\n          return _disabledTime(date, activePickerIndex === 0 ? 'start' : 'end');\n        }\n\n        return false;\n      },\n      className: classnames_1.default(_defineProperty({}, \"\".concat(prefixCls, \"-panel-focused\"), activePickerIndex === 0 ? !startTyping : !endTyping)),\n      value: miscUtil_1.getValue(selectedValue, activePickerIndex),\n      locale: locale,\n      tabIndex: -1,\n      onPanelChange: function onPanelChange(date, newMode) {\n        triggerModesChange(miscUtil_1.updateValues(mergedModes, newMode, activePickerIndex), miscUtil_1.updateValues(selectedValue, date, activePickerIndex));\n        setViewDate(date, activePickerIndex);\n      },\n      onOk: null,\n      onSelect: undefined,\n      onChange: undefined,\n      defaultValue: undefined,\n      defaultPickerValue: undefined\n    })));\n  }\n\n  var arrowLeft = 0;\n  var panelLeft = 0;\n\n  if (activePickerIndex && startInputDivRef.current && separatorRef.current && panelDivRef.current) {\n    // Arrow offset\n    arrowLeft = startInputDivRef.current.offsetWidth + separatorRef.current.offsetWidth;\n\n    if (panelDivRef.current.offsetWidth && arrowLeft > panelDivRef.current.offsetWidth) {\n      panelLeft = arrowLeft;\n    }\n  }\n\n  var arrowPositionStyle = direction === 'rtl' ? {\n    right: arrowLeft\n  } : {\n    left: arrowLeft\n  };\n\n  function renderPanels() {\n    var panels;\n    var extraNode = getExtraFooter_1.default(prefixCls, mergedModes[activePickerIndex], renderExtraFooter);\n    var rangesNode = getRanges_1.default({\n      prefixCls: prefixCls,\n      components: components,\n      needConfirmButton: needConfirmButton,\n      okDisabled: !miscUtil_1.getValue(selectedValue, activePickerIndex),\n      locale: locale,\n      rangeList: rangeList,\n      onOk: function onOk() {\n        if (miscUtil_1.getValue(selectedValue, activePickerIndex)) {\n          triggerChange(selectedValue);\n\n          if (_onOk) {\n            _onOk(selectedValue);\n          }\n        }\n      }\n    });\n\n    if (picker !== 'time' && !showTime) {\n      var viewDate = getViewDate(activePickerIndex);\n      var nextViewDate = dateUtil_1.getClosingViewDate(viewDate, picker, generateConfig);\n      var currentMode = mergedModes[activePickerIndex];\n      var showDoublePanel = currentMode === picker;\n      var leftPanel = renderPanel(showDoublePanel ? 'left' : false, {\n        pickerValue: viewDate,\n        onPickerValueChange: function onPickerValueChange(newViewDate) {\n          setViewDate(newViewDate, activePickerIndex);\n        }\n      });\n      var rightPanel = renderPanel('right', {\n        pickerValue: nextViewDate,\n        onPickerValueChange: function onPickerValueChange(newViewDate) {\n          setViewDate(dateUtil_1.getClosingViewDate(newViewDate, picker, generateConfig, -1), activePickerIndex);\n        }\n      });\n      panels = React.createElement(React.Fragment, null, direction === 'rtl' ? rightPanel : leftPanel, direction === 'rtl' ? showDoublePanel && leftPanel : showDoublePanel && rightPanel);\n    } else {\n      panels = renderPanel();\n    }\n\n    return React.createElement(\"div\", {\n      className: \"\".concat(prefixCls, \"-panel-container\"),\n      style: {\n        marginLeft: panelLeft\n      },\n      ref: panelDivRef,\n      onMouseDown: function onMouseDown(e) {\n        e.preventDefault();\n      }\n    }, React.createElement(\"div\", {\n      className: \"\".concat(prefixCls, \"-panels\")\n    }, panels), (extraNode || rangesNode) && React.createElement(\"div\", {\n      className: \"\".concat(prefixCls, \"-footer\")\n    }, extraNode, rangesNode));\n  }\n\n  var rangePanel = React.createElement(\"div\", {\n    className: classnames_1.default(\"\".concat(prefixCls, \"-range-wrapper\"), \"\".concat(prefixCls, \"-\").concat(picker, \"-range-wrapper\")),\n    style: {\n      minWidth: popupMinWidth\n    }\n  }, React.createElement(\"div\", {\n    className: \"\".concat(prefixCls, \"-range-arrow\"),\n    style: arrowPositionStyle\n  }), renderPanels()); // ============================= Icons =============================\n\n  var suffixNode;\n\n  if (suffixIcon) {\n    suffixNode = React.createElement(\"span\", {\n      className: \"\".concat(prefixCls, \"-suffix\")\n    }, suffixIcon);\n  }\n\n  var clearNode;\n\n  if (allowClear && (miscUtil_1.getValue(mergedValue, 0) && !mergedDisabled[0] || miscUtil_1.getValue(mergedValue, 1) && !mergedDisabled[1])) {\n    clearNode = React.createElement(\"span\", {\n      onMouseDown: function onMouseDown(e) {\n        e.preventDefault();\n        e.stopPropagation();\n      },\n      onMouseUp: function onMouseUp(e) {\n        e.preventDefault();\n        e.stopPropagation();\n        var values = mergedValue;\n\n        if (!mergedDisabled[0]) {\n          values = miscUtil_1.updateValues(values, null, 0);\n        }\n\n        if (!mergedDisabled[1]) {\n          values = miscUtil_1.updateValues(values, null, 1);\n        }\n\n        triggerChange(values, {\n          forceInput: false\n        });\n      },\n      className: \"\".concat(prefixCls, \"-clear\")\n    }, clearIcon || React.createElement(\"span\", {\n      className: \"\".concat(prefixCls, \"-clear-btn\")\n    }));\n  }\n\n  var inputSharedProps = {\n    size: uiUtil_1.getInputSize(picker, formatList[0])\n  };\n  var activeBarLeft = 0;\n  var activeBarWidth = 0;\n\n  if (startInputDivRef.current && endInputDivRef.current && separatorRef.current) {\n    if (activePickerIndex === 0) {\n      activeBarWidth = startInputDivRef.current.offsetWidth;\n    } else {\n      activeBarLeft = arrowLeft;\n      activeBarWidth = endInputDivRef.current.offsetWidth;\n    }\n  }\n\n  var activeBarPositionStyle = direction === 'rtl' ? {\n    right: activeBarLeft\n  } : {\n    left: activeBarLeft\n  }; // ============================ Return =============================\n\n  var onContextSelect = function onContextSelect(date, type) {\n    var values = miscUtil_1.updateValues(selectedValue, date, activePickerIndex);\n\n    if (type === 'submit' || type !== 'key' && !needConfirmButton) {\n      // triggerChange will also update selected values\n      triggerChange(values);\n    } else {\n      setSelectedValue(values);\n    }\n  };\n\n  return React.createElement(PanelContext_1.default.Provider, {\n    value: {\n      operationRef: operationRef,\n      hideHeader: picker === 'time',\n      onDateMouseEnter: onDateMouseEnter,\n      onDateMouseLeave: onDateMouseLeave,\n      hideRanges: true,\n      onSelect: onContextSelect,\n      open: mergedOpen\n    }\n  }, React.createElement(PickerTrigger_1.default, {\n    visible: mergedOpen,\n    popupElement: rangePanel,\n    popupStyle: popupStyle,\n    prefixCls: prefixCls,\n    dropdownClassName: dropdownClassName,\n    dropdownAlign: dropdownAlign,\n    getPopupContainer: getPopupContainer,\n    transitionName: transitionName,\n    range: true,\n    direction: direction\n  }, React.createElement(\"div\", Object.assign({\n    ref: containerRef,\n    className: classnames_1.default(prefixCls, \"\".concat(prefixCls, \"-range\"), className, (_classnames_1$default2 = {}, _defineProperty(_classnames_1$default2, \"\".concat(prefixCls, \"-disabled\"), mergedDisabled[0] && mergedDisabled[1]), _defineProperty(_classnames_1$default2, \"\".concat(prefixCls, \"-focused\"), activePickerIndex === 0 ? startFocused : endFocused), _defineProperty(_classnames_1$default2, \"\".concat(prefixCls, \"-rtl\"), direction === 'rtl'), _classnames_1$default2)),\n    style: style\n  }, miscUtil_1.default(props)), React.createElement(\"div\", {\n    className: classnames_1.default(\"\".concat(prefixCls, \"-input\"), _defineProperty({}, \"\".concat(prefixCls, \"-input-active\"), activePickerIndex === 0)),\n    ref: startInputDivRef\n  }, React.createElement(\"input\", Object.assign({\n    disabled: mergedDisabled[0],\n    readOnly: inputReadOnly || !startTyping,\n    value: startText,\n    onChange: function onChange(e) {\n      triggerStartTextChange(e.target.value);\n    },\n    autoFocus: autoFocus,\n    placeholder: miscUtil_1.getValue(placeholder, 0) || '',\n    ref: startInputRef\n  }, startInputProps, inputSharedProps))), React.createElement(\"div\", {\n    className: \"\".concat(prefixCls, \"-range-separator\"),\n    ref: separatorRef\n  }, separator), React.createElement(\"div\", {\n    className: classnames_1.default(\"\".concat(prefixCls, \"-input\"), _defineProperty({}, \"\".concat(prefixCls, \"-input-active\"), activePickerIndex === 1)),\n    ref: endInputDivRef\n  }, React.createElement(\"input\", Object.assign({\n    disabled: mergedDisabled[1],\n    readOnly: inputReadOnly || !endTyping,\n    value: endText,\n    onChange: function onChange(e) {\n      triggerEndTextChange(e.target.value);\n    },\n    placeholder: miscUtil_1.getValue(placeholder, 1) || '',\n    ref: endInputRef\n  }, endInputProps, inputSharedProps))), React.createElement(\"div\", {\n    className: \"\".concat(prefixCls, \"-active-bar\"),\n    style: _objectSpread({}, activeBarPositionStyle, {\n      width: activeBarWidth,\n      position: 'absolute'\n    })\n  }), suffixNode, clearNode)));\n} // Wrap with class component to enable pass generic with instance method\n\n\nvar RangePicker =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(RangePicker, _React$Component);\n\n  function RangePicker() {\n    var _this;\n\n    _classCallCheck(this, RangePicker);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(RangePicker).apply(this, arguments));\n    _this.pickerRef = React.createRef();\n\n    _this.focus = function () {\n      if (_this.pickerRef.current) {\n        _this.pickerRef.current.focus();\n      }\n    };\n\n    _this.blur = function () {\n      if (_this.pickerRef.current) {\n        _this.pickerRef.current.blur();\n      }\n    };\n\n    return _this;\n  }\n\n  _createClass(RangePicker, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(InnerRangePicker, Object.assign({}, this.props, {\n        pickerRef: this.pickerRef\n      }));\n    }\n  }]);\n\n  return RangePicker;\n}(React.Component);\n\nexports.default = RangePicker;","map":{"version":3,"sources":["/Users/nancyou/Desktop/nasa/node_modules/rc-picker/es/RangePicker.js"],"names":["_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","_createClass","protoProps","staticProps","prototype","_possibleConstructorReturn","self","call","_typeof","_assertThisInitialized","ReferenceError","_getPrototypeOf","o","setPrototypeOf","getPrototypeOf","__proto__","_inherits","subClass","superClass","create","constructor","value","_setPrototypeOf","p","obj","Symbol","iterator","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","push","apply","_objectSpread","arguments","source","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","_slicedToArray","arr","_arrayWithHoles","_iterableToArrayLimit","_nonIterableRest","toString","_arr","_n","_d","_e","undefined","_i","_s","next","done","err","Array","isArray","__importStar","mod","__esModule","result","k","hasOwnProperty","__importDefault","exports","React","require","classnames_1","warning_1","useMergedState_1","PickerTrigger_1","PickerPanel_1","usePickerInput_1","miscUtil_1","uiUtil_1","PanelContext_1","dateUtil_1","useValueTexts_1","useTextValueMapping_1","RangeContext_1","useRangeDisabled_1","getExtraFooter_1","getRanges_1","useRangeViewDates_1","reorderValues","values","generateConfig","isAfter","canValueTrigger","index","disabled","allowEmpty","InnerRangePicker","_classnames_1$default2","_props$prefixCls","prefixCls","style","className","popupStyle","dropdownClassName","transitionName","dropdownAlign","getPopupContainer","locale","placeholder","autoFocus","format","_props$picker","picker","showTime","use12Hours","_props$separator","separator","defaultValue","defaultPickerValue","open","defaultOpen","disabledDate","_disabledTime","disabledTime","ranges","allowClear","suffixIcon","clearIcon","pickerRef","inputReadOnly","mode","renderExtraFooter","onChange","onOpenChange","onPanelChange","onCalendarChange","_onFocus","onFocus","onBlur","_onOk","onOk","components","direction","needConfirmButton","containerRef","useRef","panelDivRef","startInputDivRef","endInputDivRef","separatorRef","startInputRef","endInputRef","formatList","toArray","getDefaultFormat","_React$useState","useState","_React$useState2","activePickerIndex","setActivePickerIndex","operationRef","mergedDisabled","useMemo","_useMergedState_1$def","default","postState","_useMergedState_1$def2","mergedValue","setInnerValue","_useRangeViewDates_1$","defaultDates","_useRangeViewDates_1$2","getViewDate","setViewDate","_useMergedState_1$def3","postValues","getValue","updateValues","getNow","_useMergedState_1$def4","selectedValue","setSelectedValue","_React$useState3","_React$useState4","rangeHoverValue","setRangeHoverValue","_React$useState5","_React$useState6","hoverRangedValue","setHoverRangedValue","onDateMouseEnter","date","onDateMouseLeave","_useMergedState_1$def5","_useMergedState_1$def6","mergedModes","setInnerModes","useEffect","triggerModesChange","modes","_useRangeDisabled_1$d","_useRangeDisabled_1$d2","disabledStartDate","disabledEndDate","_useMergedState_1$def7","postOpen","newOpen","current","onClose","_useMergedState_1$def8","mergedOpen","triggerInnerOpen","startOpen","endOpen","_React$useState7","_React$useState8","popupMinWidth","setPopupMinWidth","offsetWidth","_triggerOpen","triggerChange","newValue","config","_config$forceInput","forceInput","startValue","endValue","isSameDate","startStr","endStr","canStartValueTrigger","canEndValueTrigger","canTrigger","isEqual","missingValueIndex","setTimeout","inputRef","focus","triggerOpen","preventChangeEvent","forwardKeyDown","e","onKeyDown","sharedTextHooksProps","startValueTexts","endValueTexts","_onTextChange","onTextChange","newText","inputDate","parse","disabledFunc","_useTextValueMapping_","valueTexts","_useTextValueMapping_2","startText","triggerStartTextChange","resetStartText","_useTextValueMapping_3","_useTextValueMapping_4","endText","triggerEndTextChange","resetEndText","getSharedInputHookProps","resetText","blurToCancel","isClickOutside","elementsContains","onSubmit","onCancel","_usePickerInput_1$def","_usePickerInput_1$def2","startInputProps","_usePickerInput_1$def3","startFocused","focused","startTyping","typing","_usePickerInput_1$def4","_usePickerInput_1$def5","endInputProps","_usePickerInput_1$def6","endFocused","endTyping","includes","process","env","NODE_ENV","blur","rangeLabels","rangeList","map","label","range","newValues","onClick","onMouseEnter","onMouseLeave","renderPanel","panelPosition","panelProps","panelHoverRangedValue","panelShowTime","timeDefaultValues","createElement","Provider","inRange","rangedValue","assign","concat","tabIndex","newMode","onSelect","arrowLeft","panelLeft","arrowPositionStyle","right","left","renderPanels","panels","extraNode","rangesNode","okDisabled","viewDate","nextViewDate","getClosingViewDate","currentMode","showDoublePanel","leftPanel","pickerValue","onPickerValueChange","newViewDate","rightPanel","Fragment","marginLeft","ref","onMouseDown","preventDefault","rangePanel","minWidth","suffixNode","clearNode","stopPropagation","onMouseUp","inputSharedProps","size","getInputSize","activeBarLeft","activeBarWidth","activeBarPositionStyle","onContextSelect","type","hideHeader","hideRanges","visible","popupElement","readOnly","width","position","RangePicker","_React$Component","_this","createRef","render","Component"],"mappings":"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","sourcesContent":["\"use strict\";\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\n\nfunction _iterableToArrayLimit(arr, i) { if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) { return; } var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) {\n    if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\n  }\n  result[\"default\"] = mod;\n  return result;\n};\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar React = __importStar(require(\"react\"));\n\nvar classnames_1 = __importDefault(require(\"classnames\"));\n\nvar warning_1 = __importDefault(require(\"rc-util/lib/warning\"));\n\nvar useMergedState_1 = __importDefault(require(\"rc-util/lib/hooks/useMergedState\"));\n\nvar PickerTrigger_1 = __importDefault(require(\"./PickerTrigger\"));\n\nvar PickerPanel_1 = __importDefault(require(\"./PickerPanel\"));\n\nvar usePickerInput_1 = __importDefault(require(\"./hooks/usePickerInput\"));\n\nvar miscUtil_1 = __importStar(require(\"./utils/miscUtil\"));\n\nvar uiUtil_1 = require(\"./utils/uiUtil\");\n\nvar PanelContext_1 = __importDefault(require(\"./PanelContext\"));\n\nvar dateUtil_1 = require(\"./utils/dateUtil\");\n\nvar useValueTexts_1 = __importDefault(require(\"./hooks/useValueTexts\"));\n\nvar useTextValueMapping_1 = __importDefault(require(\"./hooks/useTextValueMapping\"));\n\nvar RangeContext_1 = __importDefault(require(\"./RangeContext\"));\n\nvar useRangeDisabled_1 = __importDefault(require(\"./hooks/useRangeDisabled\"));\n\nvar getExtraFooter_1 = __importDefault(require(\"./utils/getExtraFooter\"));\n\nvar getRanges_1 = __importDefault(require(\"./utils/getRanges\"));\n\nvar useRangeViewDates_1 = __importDefault(require(\"./hooks/useRangeViewDates\"));\n\nfunction reorderValues(values, generateConfig) {\n  if (values && values[0] && values[1] && generateConfig.isAfter(values[0], values[1])) {\n    return [values[1], values[0]];\n  }\n\n  return values;\n}\n\nfunction canValueTrigger(value, index, disabled, allowEmpty) {\n  if (value) {\n    return true;\n  }\n\n  if (allowEmpty && allowEmpty[index]) {\n    return true;\n  }\n\n  if (disabled[(index + 1) % 2]) {\n    return true;\n  }\n\n  return false;\n}\n\nfunction InnerRangePicker(props) {\n  var _classnames_1$default2;\n\n  var _props$prefixCls = props.prefixCls,\n      prefixCls = _props$prefixCls === void 0 ? 'rc-picker' : _props$prefixCls,\n      style = props.style,\n      className = props.className,\n      popupStyle = props.popupStyle,\n      dropdownClassName = props.dropdownClassName,\n      transitionName = props.transitionName,\n      dropdownAlign = props.dropdownAlign,\n      getPopupContainer = props.getPopupContainer,\n      generateConfig = props.generateConfig,\n      locale = props.locale,\n      placeholder = props.placeholder,\n      autoFocus = props.autoFocus,\n      disabled = props.disabled,\n      format = props.format,\n      _props$picker = props.picker,\n      picker = _props$picker === void 0 ? 'date' : _props$picker,\n      showTime = props.showTime,\n      use12Hours = props.use12Hours,\n      _props$separator = props.separator,\n      separator = _props$separator === void 0 ? '~' : _props$separator,\n      value = props.value,\n      defaultValue = props.defaultValue,\n      defaultPickerValue = props.defaultPickerValue,\n      open = props.open,\n      defaultOpen = props.defaultOpen,\n      disabledDate = props.disabledDate,\n      _disabledTime = props.disabledTime,\n      ranges = props.ranges,\n      allowEmpty = props.allowEmpty,\n      allowClear = props.allowClear,\n      suffixIcon = props.suffixIcon,\n      clearIcon = props.clearIcon,\n      pickerRef = props.pickerRef,\n      inputReadOnly = props.inputReadOnly,\n      mode = props.mode,\n      renderExtraFooter = props.renderExtraFooter,\n      onChange = props.onChange,\n      onOpenChange = props.onOpenChange,\n      onPanelChange = props.onPanelChange,\n      onCalendarChange = props.onCalendarChange,\n      _onFocus = props.onFocus,\n      onBlur = props.onBlur,\n      _onOk = props.onOk,\n      components = props.components,\n      direction = props.direction;\n  var needConfirmButton = picker === 'date' && !!showTime || picker === 'time';\n  var containerRef = React.useRef(null);\n  var panelDivRef = React.useRef(null);\n  var startInputDivRef = React.useRef(null);\n  var endInputDivRef = React.useRef(null);\n  var separatorRef = React.useRef(null);\n  var startInputRef = React.useRef(null);\n  var endInputRef = React.useRef(null); // ============================= Misc ==============================\n\n  var formatList = miscUtil_1.toArray(uiUtil_1.getDefaultFormat(format, picker, showTime, use12Hours)); // Active picker\n\n  var _React$useState = React.useState(0),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      activePickerIndex = _React$useState2[0],\n      setActivePickerIndex = _React$useState2[1]; // Operation ref\n\n\n  var operationRef = React.useRef(null);\n  var mergedDisabled = React.useMemo(function () {\n    if (Array.isArray(disabled)) {\n      return disabled;\n    }\n\n    return [disabled || false, disabled || false];\n  }, [disabled]); // ============================= Value =============================\n\n  var _useMergedState_1$def = useMergedState_1.default(null, {\n    value: value,\n    defaultValue: defaultValue,\n    postState: function postState(values) {\n      return reorderValues(values, generateConfig);\n    }\n  }),\n      _useMergedState_1$def2 = _slicedToArray(_useMergedState_1$def, 2),\n      mergedValue = _useMergedState_1$def2[0],\n      setInnerValue = _useMergedState_1$def2[1]; // =========================== View Date ===========================\n  // Config view panel\n\n\n  var _useRangeViewDates_1$ = useRangeViewDates_1.default({\n    values: mergedValue,\n    picker: picker,\n    defaultDates: defaultPickerValue,\n    generateConfig: generateConfig\n  }),\n      _useRangeViewDates_1$2 = _slicedToArray(_useRangeViewDates_1$, 2),\n      getViewDate = _useRangeViewDates_1$2[0],\n      setViewDate = _useRangeViewDates_1$2[1]; // ========================= Select Values =========================\n\n\n  var _useMergedState_1$def3 = useMergedState_1.default(mergedValue, {\n    postState: function postState(values) {\n      var postValues = values;\n\n      for (var i = 0; i < 2; i += 1) {\n        if (mergedDisabled[i] && !miscUtil_1.getValue(postValues, i) && !miscUtil_1.getValue(allowEmpty, i)) {\n          postValues = miscUtil_1.updateValues(postValues, generateConfig.getNow(), i);\n        }\n      }\n\n      return postValues;\n    }\n  }),\n      _useMergedState_1$def4 = _slicedToArray(_useMergedState_1$def3, 2),\n      selectedValue = _useMergedState_1$def4[0],\n      setSelectedValue = _useMergedState_1$def4[1];\n\n  var _React$useState3 = React.useState(null),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      rangeHoverValue = _React$useState4[0],\n      setRangeHoverValue = _React$useState4[1]; // ========================== Hover Range ==========================\n\n\n  var _React$useState5 = React.useState(null),\n      _React$useState6 = _slicedToArray(_React$useState5, 2),\n      hoverRangedValue = _React$useState6[0],\n      setHoverRangedValue = _React$useState6[1];\n\n  var onDateMouseEnter = function onDateMouseEnter(date) {\n    setHoverRangedValue(miscUtil_1.updateValues(selectedValue, date, activePickerIndex));\n  };\n\n  var onDateMouseLeave = function onDateMouseLeave() {\n    setHoverRangedValue(miscUtil_1.updateValues(selectedValue, null, activePickerIndex));\n  }; // ============================= Modes =============================\n\n\n  var _useMergedState_1$def5 = useMergedState_1.default([picker, picker], {\n    value: mode\n  }),\n      _useMergedState_1$def6 = _slicedToArray(_useMergedState_1$def5, 2),\n      mergedModes = _useMergedState_1$def6[0],\n      setInnerModes = _useMergedState_1$def6[1];\n\n  React.useEffect(function () {\n    setInnerModes([picker, picker]);\n  }, [picker]);\n\n  var triggerModesChange = function triggerModesChange(modes, values) {\n    setInnerModes(modes);\n\n    if (onPanelChange) {\n      onPanelChange(values, modes);\n    }\n  }; // ========================= Disable Date ==========================\n\n\n  var _useRangeDisabled_1$d = useRangeDisabled_1.default({\n    picker: picker,\n    selectedValue: selectedValue,\n    locale: locale,\n    disabled: mergedDisabled,\n    disabledDate: disabledDate,\n    generateConfig: generateConfig\n  }),\n      _useRangeDisabled_1$d2 = _slicedToArray(_useRangeDisabled_1$d, 2),\n      disabledStartDate = _useRangeDisabled_1$d2[0],\n      disabledEndDate = _useRangeDisabled_1$d2[1]; // ============================= Open ==============================\n\n\n  var _useMergedState_1$def7 = useMergedState_1.default(false, {\n    value: open,\n    defaultValue: defaultOpen,\n    postState: function postState(postOpen) {\n      return mergedDisabled[activePickerIndex] ? false : postOpen;\n    },\n    onChange: function onChange(newOpen) {\n      if (onOpenChange) {\n        onOpenChange(newOpen);\n      }\n\n      if (!newOpen && operationRef.current && operationRef.current.onClose) {\n        operationRef.current.onClose();\n      }\n    }\n  }),\n      _useMergedState_1$def8 = _slicedToArray(_useMergedState_1$def7, 2),\n      mergedOpen = _useMergedState_1$def8[0],\n      triggerInnerOpen = _useMergedState_1$def8[1];\n\n  var startOpen = mergedOpen && activePickerIndex === 0;\n  var endOpen = mergedOpen && activePickerIndex === 1; // ============================= Popup =============================\n  // Popup min width\n\n  var _React$useState7 = React.useState(0),\n      _React$useState8 = _slicedToArray(_React$useState7, 2),\n      popupMinWidth = _React$useState8[0],\n      setPopupMinWidth = _React$useState8[1];\n\n  React.useEffect(function () {\n    if (!mergedOpen && containerRef.current) {\n      setPopupMinWidth(containerRef.current.offsetWidth);\n    }\n  }, [mergedOpen]); // ============================ Trigger ============================\n\n  var _triggerOpen;\n\n  var triggerChange = function triggerChange(newValue) {\n    var config = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var _config$forceInput = config.forceInput,\n        forceInput = _config$forceInput === void 0 ? true : _config$forceInput,\n        source = config.source;\n    var values = newValue;\n    var startValue = miscUtil_1.getValue(values, 0);\n    var endValue = miscUtil_1.getValue(values, 1);\n\n    if (startValue && endValue && generateConfig.isAfter(startValue, endValue)) {\n      if (!dateUtil_1.isSameDate(generateConfig, startValue, endValue)) {\n        // Clean up end date when start date is after end date\n        values = [startValue, null];\n        endValue = null;\n      } else {\n        // Reorder when in same date\n        values = [endValue, startValue];\n      }\n    }\n\n    setSelectedValue(values);\n    var startStr = values && values[0] ? generateConfig.locale.format(locale.locale, values[0], formatList[0]) : '';\n    var endStr = values && values[1] ? generateConfig.locale.format(locale.locale, values[1], formatList[0]) : '';\n\n    if (onCalendarChange) {\n      onCalendarChange(values, [startStr, endStr]);\n    }\n\n    var canStartValueTrigger = canValueTrigger(startValue, 0, mergedDisabled, allowEmpty);\n    var canEndValueTrigger = canValueTrigger(endValue, 1, mergedDisabled, allowEmpty);\n    var canTrigger = values === null || canStartValueTrigger && canEndValueTrigger;\n\n    if (canTrigger) {\n      // Trigger onChange only when value is validate\n      setInnerValue(values);\n\n      if (source !== 'open') {\n        _triggerOpen(false, activePickerIndex, true);\n      }\n\n      if (onChange && (!dateUtil_1.isEqual(generateConfig, miscUtil_1.getValue(mergedValue, 0), startValue) || !dateUtil_1.isEqual(generateConfig, miscUtil_1.getValue(mergedValue, 1), endValue))) {\n        onChange(values, [startStr, endStr]);\n      }\n    } else if (forceInput) {\n      // Open miss value panel to force user input\n      var missingValueIndex = canStartValueTrigger ? 1 : 0; // Same index means user choice to close picker\n\n      if (missingValueIndex === activePickerIndex) {\n        return;\n      }\n\n      if (source !== 'open') {\n        _triggerOpen(true, missingValueIndex);\n      } // Delay to focus to avoid input blur trigger expired selectedValues\n\n\n      setTimeout(function () {\n        var inputRef = [startInputRef, endInputRef][missingValueIndex];\n\n        if (inputRef.current) {\n          inputRef.current.focus();\n        }\n      }, 0);\n    }\n  };\n\n  _triggerOpen = function triggerOpen(newOpen, index) {\n    var preventChangeEvent = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n    if (newOpen) {\n      setActivePickerIndex(index);\n      triggerInnerOpen(newOpen); // Open to reset view date\n\n      if (!mergedOpen) {\n        setViewDate(null, index);\n      }\n    } else if (activePickerIndex === index) {\n      triggerInnerOpen(newOpen);\n\n      if (!preventChangeEvent) {\n        triggerChange(selectedValue, {\n          source: 'open'\n        });\n      }\n    }\n  };\n\n  var forwardKeyDown = function forwardKeyDown(e) {\n    if (mergedOpen && operationRef.current && operationRef.current.onKeyDown) {\n      // Let popup panel handle keyboard\n      return operationRef.current.onKeyDown(e);\n    }\n    /* istanbul ignore next */\n\n    /* eslint-disable no-lone-blocks */\n\n\n    {\n      warning_1.default(false, 'Picker not correct forward KeyDown operation. Please help to fire issue about this.');\n      return false;\n    }\n  }; // ============================= Text ==============================\n\n\n  var sharedTextHooksProps = {\n    formatList: formatList,\n    generateConfig: generateConfig,\n    locale: locale\n  };\n  var startValueTexts = useValueTexts_1.default(miscUtil_1.getValue(selectedValue, 0), sharedTextHooksProps);\n  var endValueTexts = useValueTexts_1.default(miscUtil_1.getValue(selectedValue, 1), sharedTextHooksProps);\n\n  var _onTextChange = function onTextChange(newText, index) {\n    var inputDate = generateConfig.locale.parse(locale.locale, newText, formatList);\n    var disabledFunc = index === 0 ? disabledStartDate : disabledEndDate;\n\n    if (inputDate && !disabledFunc(inputDate)) {\n      setSelectedValue(miscUtil_1.updateValues(selectedValue, inputDate, index));\n      setViewDate(inputDate, index);\n    }\n  };\n\n  var _useTextValueMapping_ = useTextValueMapping_1.default({\n    valueTexts: startValueTexts,\n    onTextChange: function onTextChange(newText) {\n      return _onTextChange(newText, 0);\n    }\n  }),\n      _useTextValueMapping_2 = _slicedToArray(_useTextValueMapping_, 3),\n      startText = _useTextValueMapping_2[0],\n      triggerStartTextChange = _useTextValueMapping_2[1],\n      resetStartText = _useTextValueMapping_2[2];\n\n  var _useTextValueMapping_3 = useTextValueMapping_1.default({\n    valueTexts: endValueTexts,\n    onTextChange: function onTextChange(newText) {\n      return _onTextChange(newText, 1);\n    }\n  }),\n      _useTextValueMapping_4 = _slicedToArray(_useTextValueMapping_3, 3),\n      endText = _useTextValueMapping_4[0],\n      triggerEndTextChange = _useTextValueMapping_4[1],\n      resetEndText = _useTextValueMapping_4[2]; // ============================= Input =============================\n\n\n  var getSharedInputHookProps = function getSharedInputHookProps(index, resetText) {\n    return {\n      blurToCancel: needConfirmButton,\n      forwardKeyDown: forwardKeyDown,\n      onBlur: onBlur,\n      isClickOutside: function isClickOutside(target) {\n        return !uiUtil_1.elementsContains([panelDivRef.current, startInputDivRef.current, endInputDivRef.current], target);\n      },\n      onFocus: function onFocus(e) {\n        setActivePickerIndex(index);\n\n        if (_onFocus) {\n          _onFocus(e);\n        }\n      },\n      triggerOpen: function triggerOpen(newOpen) {\n        return _triggerOpen(newOpen, index);\n      },\n      onSubmit: function onSubmit() {\n        triggerChange(selectedValue);\n        resetText();\n      },\n      onCancel: function onCancel() {\n        _triggerOpen(false, index, true);\n\n        setSelectedValue(mergedValue);\n        resetText();\n      }\n    };\n  };\n\n  var _usePickerInput_1$def = usePickerInput_1.default(_objectSpread({}, getSharedInputHookProps(0, resetStartText), {\n    open: startOpen\n  })),\n      _usePickerInput_1$def2 = _slicedToArray(_usePickerInput_1$def, 2),\n      startInputProps = _usePickerInput_1$def2[0],\n      _usePickerInput_1$def3 = _usePickerInput_1$def2[1],\n      startFocused = _usePickerInput_1$def3.focused,\n      startTyping = _usePickerInput_1$def3.typing;\n\n  var _usePickerInput_1$def4 = usePickerInput_1.default(_objectSpread({}, getSharedInputHookProps(1, resetEndText), {\n    open: endOpen\n  })),\n      _usePickerInput_1$def5 = _slicedToArray(_usePickerInput_1$def4, 2),\n      endInputProps = _usePickerInput_1$def5[0],\n      _usePickerInput_1$def6 = _usePickerInput_1$def5[1],\n      endFocused = _usePickerInput_1$def6.focused,\n      endTyping = _usePickerInput_1$def6.typing; // ============================= Sync ==============================\n  // Close should sync back with text value\n\n\n  var startStr = mergedValue && mergedValue[0] ? generateConfig.locale.format(locale.locale, mergedValue[0], 'YYYYMMDDHHmmss') : '';\n  var endStr = mergedValue && mergedValue[1] ? generateConfig.locale.format(locale.locale, mergedValue[1], 'YYYYMMDDHHmmss') : '';\n  React.useEffect(function () {\n    if (!mergedOpen) {\n      setSelectedValue(mergedValue);\n\n      if (!startValueTexts.length || startValueTexts[0] === '') {\n        triggerStartTextChange('');\n      } else if (!startValueTexts.includes(startText)) {\n        resetStartText();\n      }\n\n      if (!endValueTexts.length || endValueTexts[0] === '') {\n        triggerEndTextChange('');\n      } else if (!endValueTexts.includes(endText)) {\n        resetEndText();\n      }\n    }\n  }, [mergedOpen, startValueTexts, endValueTexts]); // Sync innerValue with control mode\n\n  React.useEffect(function () {\n    setSelectedValue(mergedValue);\n  }, [startStr, endStr]); // ============================ Warning ============================\n\n  if (process.env.NODE_ENV !== 'production') {\n    if (value && Array.isArray(disabled) && (miscUtil_1.getValue(disabled, 0) && !miscUtil_1.getValue(value, 0) || miscUtil_1.getValue(disabled, 1) && !miscUtil_1.getValue(value, 1))) {\n      warning_1.default(false, '`disabled` should not set with empty `value`. You should set `allowEmpty` or `value` instead.');\n    }\n  } // ============================ Private ============================\n\n\n  if (pickerRef) {\n    pickerRef.current = {\n      focus: function focus() {\n        if (startInputRef.current) {\n          startInputRef.current.focus();\n        }\n      },\n      blur: function blur() {\n        if (startInputRef.current) {\n          startInputRef.current.blur();\n        }\n\n        if (endInputRef.current) {\n          endInputRef.current.blur();\n        }\n      }\n    };\n  } // ============================ Ranges =============================\n\n\n  var rangeLabels = Object.keys(ranges || {});\n  var rangeList = rangeLabels.map(function (label) {\n    var range = ranges[label];\n    var newValues = typeof range === 'function' ? range() : range;\n    return {\n      label: label,\n      onClick: function onClick() {\n        triggerChange(newValues);\n      },\n      onMouseEnter: function onMouseEnter() {\n        setRangeHoverValue(newValues);\n      },\n      onMouseLeave: function onMouseLeave() {\n        setRangeHoverValue(null);\n      }\n    };\n  }); // ============================= Panel =============================\n\n  function renderPanel() {\n    var panelPosition = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n    var panelProps = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var panelHoverRangedValue = null;\n\n    if (mergedOpen && hoverRangedValue && hoverRangedValue[0] && hoverRangedValue[1] && generateConfig.isAfter(hoverRangedValue[1], hoverRangedValue[0])) {\n      panelHoverRangedValue = hoverRangedValue;\n    }\n\n    var panelShowTime = showTime;\n\n    if (showTime && _typeof(showTime) === 'object' && showTime.defaultValue) {\n      var timeDefaultValues = showTime.defaultValue;\n      panelShowTime = _objectSpread({}, showTime, {\n        defaultValue: miscUtil_1.getValue(timeDefaultValues, activePickerIndex) || undefined\n      });\n    }\n\n    return React.createElement(RangeContext_1.default.Provider, {\n      value: {\n        inRange: true,\n        panelPosition: panelPosition,\n        rangedValue: rangeHoverValue || selectedValue,\n        hoverRangedValue: panelHoverRangedValue\n      }\n    }, React.createElement(PickerPanel_1.default, Object.assign({}, props, panelProps, {\n      showTime: panelShowTime,\n      mode: mergedModes[activePickerIndex],\n      generateConfig: generateConfig,\n      style: undefined,\n      direction: direction,\n      disabledDate: activePickerIndex === 0 ? disabledStartDate : disabledEndDate,\n      disabledTime: function disabledTime(date) {\n        if (_disabledTime) {\n          return _disabledTime(date, activePickerIndex === 0 ? 'start' : 'end');\n        }\n\n        return false;\n      },\n      className: classnames_1.default(_defineProperty({}, \"\".concat(prefixCls, \"-panel-focused\"), activePickerIndex === 0 ? !startTyping : !endTyping)),\n      value: miscUtil_1.getValue(selectedValue, activePickerIndex),\n      locale: locale,\n      tabIndex: -1,\n      onPanelChange: function onPanelChange(date, newMode) {\n        triggerModesChange(miscUtil_1.updateValues(mergedModes, newMode, activePickerIndex), miscUtil_1.updateValues(selectedValue, date, activePickerIndex));\n        setViewDate(date, activePickerIndex);\n      },\n      onOk: null,\n      onSelect: undefined,\n      onChange: undefined,\n      defaultValue: undefined,\n      defaultPickerValue: undefined\n    })));\n  }\n\n  var arrowLeft = 0;\n  var panelLeft = 0;\n\n  if (activePickerIndex && startInputDivRef.current && separatorRef.current && panelDivRef.current) {\n    // Arrow offset\n    arrowLeft = startInputDivRef.current.offsetWidth + separatorRef.current.offsetWidth;\n\n    if (panelDivRef.current.offsetWidth && arrowLeft > panelDivRef.current.offsetWidth) {\n      panelLeft = arrowLeft;\n    }\n  }\n\n  var arrowPositionStyle = direction === 'rtl' ? {\n    right: arrowLeft\n  } : {\n    left: arrowLeft\n  };\n\n  function renderPanels() {\n    var panels;\n    var extraNode = getExtraFooter_1.default(prefixCls, mergedModes[activePickerIndex], renderExtraFooter);\n    var rangesNode = getRanges_1.default({\n      prefixCls: prefixCls,\n      components: components,\n      needConfirmButton: needConfirmButton,\n      okDisabled: !miscUtil_1.getValue(selectedValue, activePickerIndex),\n      locale: locale,\n      rangeList: rangeList,\n      onOk: function onOk() {\n        if (miscUtil_1.getValue(selectedValue, activePickerIndex)) {\n          triggerChange(selectedValue);\n\n          if (_onOk) {\n            _onOk(selectedValue);\n          }\n        }\n      }\n    });\n\n    if (picker !== 'time' && !showTime) {\n      var viewDate = getViewDate(activePickerIndex);\n      var nextViewDate = dateUtil_1.getClosingViewDate(viewDate, picker, generateConfig);\n      var currentMode = mergedModes[activePickerIndex];\n      var showDoublePanel = currentMode === picker;\n      var leftPanel = renderPanel(showDoublePanel ? 'left' : false, {\n        pickerValue: viewDate,\n        onPickerValueChange: function onPickerValueChange(newViewDate) {\n          setViewDate(newViewDate, activePickerIndex);\n        }\n      });\n      var rightPanel = renderPanel('right', {\n        pickerValue: nextViewDate,\n        onPickerValueChange: function onPickerValueChange(newViewDate) {\n          setViewDate(dateUtil_1.getClosingViewDate(newViewDate, picker, generateConfig, -1), activePickerIndex);\n        }\n      });\n      panels = React.createElement(React.Fragment, null, direction === 'rtl' ? rightPanel : leftPanel, direction === 'rtl' ? showDoublePanel && leftPanel : showDoublePanel && rightPanel);\n    } else {\n      panels = renderPanel();\n    }\n\n    return React.createElement(\"div\", {\n      className: \"\".concat(prefixCls, \"-panel-container\"),\n      style: {\n        marginLeft: panelLeft\n      },\n      ref: panelDivRef,\n      onMouseDown: function onMouseDown(e) {\n        e.preventDefault();\n      }\n    }, React.createElement(\"div\", {\n      className: \"\".concat(prefixCls, \"-panels\")\n    }, panels), (extraNode || rangesNode) && React.createElement(\"div\", {\n      className: \"\".concat(prefixCls, \"-footer\")\n    }, extraNode, rangesNode));\n  }\n\n  var rangePanel = React.createElement(\"div\", {\n    className: classnames_1.default(\"\".concat(prefixCls, \"-range-wrapper\"), \"\".concat(prefixCls, \"-\").concat(picker, \"-range-wrapper\")),\n    style: {\n      minWidth: popupMinWidth\n    }\n  }, React.createElement(\"div\", {\n    className: \"\".concat(prefixCls, \"-range-arrow\"),\n    style: arrowPositionStyle\n  }), renderPanels()); // ============================= Icons =============================\n\n  var suffixNode;\n\n  if (suffixIcon) {\n    suffixNode = React.createElement(\"span\", {\n      className: \"\".concat(prefixCls, \"-suffix\")\n    }, suffixIcon);\n  }\n\n  var clearNode;\n\n  if (allowClear && (miscUtil_1.getValue(mergedValue, 0) && !mergedDisabled[0] || miscUtil_1.getValue(mergedValue, 1) && !mergedDisabled[1])) {\n    clearNode = React.createElement(\"span\", {\n      onMouseDown: function onMouseDown(e) {\n        e.preventDefault();\n        e.stopPropagation();\n      },\n      onMouseUp: function onMouseUp(e) {\n        e.preventDefault();\n        e.stopPropagation();\n        var values = mergedValue;\n\n        if (!mergedDisabled[0]) {\n          values = miscUtil_1.updateValues(values, null, 0);\n        }\n\n        if (!mergedDisabled[1]) {\n          values = miscUtil_1.updateValues(values, null, 1);\n        }\n\n        triggerChange(values, {\n          forceInput: false\n        });\n      },\n      className: \"\".concat(prefixCls, \"-clear\")\n    }, clearIcon || React.createElement(\"span\", {\n      className: \"\".concat(prefixCls, \"-clear-btn\")\n    }));\n  }\n\n  var inputSharedProps = {\n    size: uiUtil_1.getInputSize(picker, formatList[0])\n  };\n  var activeBarLeft = 0;\n  var activeBarWidth = 0;\n\n  if (startInputDivRef.current && endInputDivRef.current && separatorRef.current) {\n    if (activePickerIndex === 0) {\n      activeBarWidth = startInputDivRef.current.offsetWidth;\n    } else {\n      activeBarLeft = arrowLeft;\n      activeBarWidth = endInputDivRef.current.offsetWidth;\n    }\n  }\n\n  var activeBarPositionStyle = direction === 'rtl' ? {\n    right: activeBarLeft\n  } : {\n    left: activeBarLeft\n  }; // ============================ Return =============================\n\n  var onContextSelect = function onContextSelect(date, type) {\n    var values = miscUtil_1.updateValues(selectedValue, date, activePickerIndex);\n\n    if (type === 'submit' || type !== 'key' && !needConfirmButton) {\n      // triggerChange will also update selected values\n      triggerChange(values);\n    } else {\n      setSelectedValue(values);\n    }\n  };\n\n  return React.createElement(PanelContext_1.default.Provider, {\n    value: {\n      operationRef: operationRef,\n      hideHeader: picker === 'time',\n      onDateMouseEnter: onDateMouseEnter,\n      onDateMouseLeave: onDateMouseLeave,\n      hideRanges: true,\n      onSelect: onContextSelect,\n      open: mergedOpen\n    }\n  }, React.createElement(PickerTrigger_1.default, {\n    visible: mergedOpen,\n    popupElement: rangePanel,\n    popupStyle: popupStyle,\n    prefixCls: prefixCls,\n    dropdownClassName: dropdownClassName,\n    dropdownAlign: dropdownAlign,\n    getPopupContainer: getPopupContainer,\n    transitionName: transitionName,\n    range: true,\n    direction: direction\n  }, React.createElement(\"div\", Object.assign({\n    ref: containerRef,\n    className: classnames_1.default(prefixCls, \"\".concat(prefixCls, \"-range\"), className, (_classnames_1$default2 = {}, _defineProperty(_classnames_1$default2, \"\".concat(prefixCls, \"-disabled\"), mergedDisabled[0] && mergedDisabled[1]), _defineProperty(_classnames_1$default2, \"\".concat(prefixCls, \"-focused\"), activePickerIndex === 0 ? startFocused : endFocused), _defineProperty(_classnames_1$default2, \"\".concat(prefixCls, \"-rtl\"), direction === 'rtl'), _classnames_1$default2)),\n    style: style\n  }, miscUtil_1.default(props)), React.createElement(\"div\", {\n    className: classnames_1.default(\"\".concat(prefixCls, \"-input\"), _defineProperty({}, \"\".concat(prefixCls, \"-input-active\"), activePickerIndex === 0)),\n    ref: startInputDivRef\n  }, React.createElement(\"input\", Object.assign({\n    disabled: mergedDisabled[0],\n    readOnly: inputReadOnly || !startTyping,\n    value: startText,\n    onChange: function onChange(e) {\n      triggerStartTextChange(e.target.value);\n    },\n    autoFocus: autoFocus,\n    placeholder: miscUtil_1.getValue(placeholder, 0) || '',\n    ref: startInputRef\n  }, startInputProps, inputSharedProps))), React.createElement(\"div\", {\n    className: \"\".concat(prefixCls, \"-range-separator\"),\n    ref: separatorRef\n  }, separator), React.createElement(\"div\", {\n    className: classnames_1.default(\"\".concat(prefixCls, \"-input\"), _defineProperty({}, \"\".concat(prefixCls, \"-input-active\"), activePickerIndex === 1)),\n    ref: endInputDivRef\n  }, React.createElement(\"input\", Object.assign({\n    disabled: mergedDisabled[1],\n    readOnly: inputReadOnly || !endTyping,\n    value: endText,\n    onChange: function onChange(e) {\n      triggerEndTextChange(e.target.value);\n    },\n    placeholder: miscUtil_1.getValue(placeholder, 1) || '',\n    ref: endInputRef\n  }, endInputProps, inputSharedProps))), React.createElement(\"div\", {\n    className: \"\".concat(prefixCls, \"-active-bar\"),\n    style: _objectSpread({}, activeBarPositionStyle, {\n      width: activeBarWidth,\n      position: 'absolute'\n    })\n  }), suffixNode, clearNode)));\n} // Wrap with class component to enable pass generic with instance method\n\n\nvar RangePicker = /*#__PURE__*/function (_React$Component) {\n  _inherits(RangePicker, _React$Component);\n\n  function RangePicker() {\n    var _this;\n\n    _classCallCheck(this, RangePicker);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(RangePicker).apply(this, arguments));\n    _this.pickerRef = React.createRef();\n\n    _this.focus = function () {\n      if (_this.pickerRef.current) {\n        _this.pickerRef.current.focus();\n      }\n    };\n\n    _this.blur = function () {\n      if (_this.pickerRef.current) {\n        _this.pickerRef.current.blur();\n      }\n    };\n\n    return _this;\n  }\n\n  _createClass(RangePicker, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(InnerRangePicker, Object.assign({}, this.props, {\n        pickerRef: this.pickerRef\n      }));\n    }\n  }]);\n\n  return RangePicker;\n}(React.Component);\n\nexports.default = RangePicker;"]},"metadata":{},"sourceType":"script"}