{"ast":null,"code":"function _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}\n\nfunction _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nimport * as React from 'react';\nimport warning from \"rc-util/es/warning\";\nimport toArray from \"rc-util/es/Children/toArray\";\nimport { INTERNAL_COL_DEFINE } from '../utils/legacyUtil';\nexport function convertChildrenToColumns(children) {\n  return toArray(children).filter(function (node) {\n    return React.isValidElement(node);\n  }).map(function (_ref) {\n    var key = _ref.key,\n        props = _ref.props;\n\n    var nodeChildren = props.children,\n        restProps = _objectWithoutProperties(props, [\"children\"]);\n\n    var column = _objectSpread({\n      key: key\n    }, restProps);\n\n    if (nodeChildren) {\n      column.children = convertChildrenToColumns(nodeChildren);\n    }\n\n    return column;\n  });\n}\n\nfunction flatColumns(columns) {\n  return columns.reduce(function (list, column) {\n    var fixed = column.fixed; // Convert `fixed='true'` to `fixed='left'` instead\n\n    var parsedFixed = fixed === true ? 'left' : fixed;\n\n    if ('children' in column) {\n      return [].concat(_toConsumableArray(list), _toConsumableArray(flatColumns(column.children).map(function (subColum) {\n        return _objectSpread({\n          fixed: parsedFixed\n        }, subColum);\n      })));\n    }\n\n    return [].concat(_toConsumableArray(list), [_objectSpread({}, column, {\n      fixed: parsedFixed\n    })]);\n  }, []);\n}\n\nfunction warningFixed(flattenColumns) {\n  var allFixLeft = true;\n\n  for (var i = 0; i < flattenColumns.length; i += 1) {\n    var col = flattenColumns[i];\n\n    if (allFixLeft && col.fixed !== 'left') {\n      allFixLeft = false;\n    } else if (!allFixLeft && col.fixed === 'left') {\n      warning(false, \"Index \".concat(i - 1, \" of `columns` missing `fixed='left'` prop.\"));\n      break;\n    }\n  }\n\n  var allFixRight = true;\n\n  for (var _i = flattenColumns.length - 1; _i >= 0; _i -= 1) {\n    var _col = flattenColumns[_i];\n\n    if (allFixRight && _col.fixed !== 'right') {\n      allFixRight = false;\n    } else if (!allFixRight && _col.fixed === 'right') {\n      warning(false, \"Index \".concat(_i + 1, \" of `columns` missing `fixed='right'` prop.\"));\n      break;\n    }\n  }\n}\n/**\n * Parse `columns` & `children` into `columns`.\n */\n\n\nfunction useColumns(_ref2, transformColumns) {\n  var prefixCls = _ref2.prefixCls,\n      columns = _ref2.columns,\n      children = _ref2.children,\n      expandable = _ref2.expandable,\n      expandedKeys = _ref2.expandedKeys,\n      getRowKey = _ref2.getRowKey,\n      onTriggerExpand = _ref2.onTriggerExpand,\n      expandIcon = _ref2.expandIcon,\n      rowExpandable = _ref2.rowExpandable,\n      expandIconColumnIndex = _ref2.expandIconColumnIndex;\n  var baseColumns = React.useMemo(function () {\n    return columns || convertChildrenToColumns(children);\n  }, [columns, children]); // Add expand column\n\n  var withExpandColumns = React.useMemo(function () {\n    if (expandable) {\n      var _expandColumn;\n\n      var expandColIndex = expandIconColumnIndex || 0;\n      var prevColumn = baseColumns[expandColIndex];\n      var expandColumn = (_expandColumn = {}, _defineProperty(_expandColumn, INTERNAL_COL_DEFINE, {\n        className: \"\".concat(prefixCls, \"-expand-icon-col\")\n      }), _defineProperty(_expandColumn, \"title\", ''), _defineProperty(_expandColumn, \"fixed\", prevColumn ? prevColumn.fixed : null), _defineProperty(_expandColumn, \"className\", \"\".concat(prefixCls, \"-row-expand-icon-cell\")), _defineProperty(_expandColumn, \"render\", function render(_, record, index) {\n        var rowKey = getRowKey(record, index);\n        var expanded = expandedKeys.has(rowKey);\n        var recordExpandable = rowExpandable ? rowExpandable(record) : true;\n        return expandIcon({\n          prefixCls: prefixCls,\n          expanded: expanded,\n          expandable: recordExpandable,\n          record: record,\n          onExpand: onTriggerExpand\n        });\n      }), _expandColumn); // Insert expand column in the target position\n\n      var cloneColumns = baseColumns.slice();\n      cloneColumns.splice(expandColIndex, 0, expandColumn);\n      return cloneColumns;\n    }\n\n    return baseColumns;\n  }, [expandable, baseColumns, getRowKey, expandedKeys, expandIcon]);\n  var mergedColumns = React.useMemo(function () {\n    var finalColumns = withExpandColumns;\n\n    if (transformColumns) {\n      finalColumns = transformColumns(finalColumns);\n    } // Always provides at least one column for table display\n\n\n    if (!finalColumns.length) {\n      finalColumns = [{\n        render: function render() {\n          return null;\n        }\n      }];\n    }\n\n    return finalColumns;\n  }, [transformColumns, withExpandColumns]);\n  var flattenColumns = React.useMemo(function () {\n    return flatColumns(mergedColumns);\n  }, [mergedColumns]); // Only check out of production since it's waste for each render\n\n  if (process.env.NODE_ENV !== 'production') {\n    warningFixed(flattenColumns);\n  }\n\n  return [mergedColumns, flattenColumns];\n}\n\nexport default useColumns;","map":{"version":3,"sources":["/Users/nancyou/Desktop/nasa/node_modules/rc-table/es/hooks/useColumns.js"],"names":["_toConsumableArray","arr","_arrayWithoutHoles","_iterableToArray","_nonIterableSpread","TypeError","iter","Symbol","iterator","Object","prototype","toString","call","Array","from","isArray","i","arr2","length","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","arguments","source","forEach","key","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","obj","value","configurable","writable","_objectWithoutProperties","excluded","_objectWithoutPropertiesLoose","sourceSymbolKeys","indexOf","propertyIsEnumerable","sourceKeys","React","warning","toArray","INTERNAL_COL_DEFINE","convertChildrenToColumns","children","node","isValidElement","map","_ref","props","nodeChildren","restProps","column","flatColumns","columns","reduce","list","fixed","parsedFixed","concat","subColum","warningFixed","flattenColumns","allFixLeft","col","allFixRight","_i","_col","useColumns","_ref2","transformColumns","prefixCls","expandable","expandedKeys","getRowKey","onTriggerExpand","expandIcon","rowExpandable","expandIconColumnIndex","baseColumns","useMemo","withExpandColumns","_expandColumn","expandColIndex","prevColumn","expandColumn","className","render","_","record","index","rowKey","expanded","has","recordExpandable","onExpand","cloneColumns","slice","splice","mergedColumns","finalColumns","process","env","NODE_ENV"],"mappings":"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","sourcesContent":["function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance\"); }\n\nfunction _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from 'react';\nimport warning from \"rc-util/es/warning\";\nimport toArray from \"rc-util/es/Children/toArray\";\nimport { INTERNAL_COL_DEFINE } from '../utils/legacyUtil';\nexport function convertChildrenToColumns(children) {\n  return toArray(children).filter(function (node) {\n    return React.isValidElement(node);\n  }).map(function (_ref) {\n    var key = _ref.key,\n        props = _ref.props;\n\n    var nodeChildren = props.children,\n        restProps = _objectWithoutProperties(props, [\"children\"]);\n\n    var column = _objectSpread({\n      key: key\n    }, restProps);\n\n    if (nodeChildren) {\n      column.children = convertChildrenToColumns(nodeChildren);\n    }\n\n    return column;\n  });\n}\n\nfunction flatColumns(columns) {\n  return columns.reduce(function (list, column) {\n    var fixed = column.fixed; // Convert `fixed='true'` to `fixed='left'` instead\n\n    var parsedFixed = fixed === true ? 'left' : fixed;\n\n    if ('children' in column) {\n      return [].concat(_toConsumableArray(list), _toConsumableArray(flatColumns(column.children).map(function (subColum) {\n        return _objectSpread({\n          fixed: parsedFixed\n        }, subColum);\n      })));\n    }\n\n    return [].concat(_toConsumableArray(list), [_objectSpread({}, column, {\n      fixed: parsedFixed\n    })]);\n  }, []);\n}\n\nfunction warningFixed(flattenColumns) {\n  var allFixLeft = true;\n\n  for (var i = 0; i < flattenColumns.length; i += 1) {\n    var col = flattenColumns[i];\n\n    if (allFixLeft && col.fixed !== 'left') {\n      allFixLeft = false;\n    } else if (!allFixLeft && col.fixed === 'left') {\n      warning(false, \"Index \".concat(i - 1, \" of `columns` missing `fixed='left'` prop.\"));\n      break;\n    }\n  }\n\n  var allFixRight = true;\n\n  for (var _i = flattenColumns.length - 1; _i >= 0; _i -= 1) {\n    var _col = flattenColumns[_i];\n\n    if (allFixRight && _col.fixed !== 'right') {\n      allFixRight = false;\n    } else if (!allFixRight && _col.fixed === 'right') {\n      warning(false, \"Index \".concat(_i + 1, \" of `columns` missing `fixed='right'` prop.\"));\n      break;\n    }\n  }\n}\n/**\n * Parse `columns` & `children` into `columns`.\n */\n\n\nfunction useColumns(_ref2, transformColumns) {\n  var prefixCls = _ref2.prefixCls,\n      columns = _ref2.columns,\n      children = _ref2.children,\n      expandable = _ref2.expandable,\n      expandedKeys = _ref2.expandedKeys,\n      getRowKey = _ref2.getRowKey,\n      onTriggerExpand = _ref2.onTriggerExpand,\n      expandIcon = _ref2.expandIcon,\n      rowExpandable = _ref2.rowExpandable,\n      expandIconColumnIndex = _ref2.expandIconColumnIndex;\n  var baseColumns = React.useMemo(function () {\n    return columns || convertChildrenToColumns(children);\n  }, [columns, children]); // Add expand column\n\n  var withExpandColumns = React.useMemo(function () {\n    if (expandable) {\n      var _expandColumn;\n\n      var expandColIndex = expandIconColumnIndex || 0;\n      var prevColumn = baseColumns[expandColIndex];\n      var expandColumn = (_expandColumn = {}, _defineProperty(_expandColumn, INTERNAL_COL_DEFINE, {\n        className: \"\".concat(prefixCls, \"-expand-icon-col\")\n      }), _defineProperty(_expandColumn, \"title\", ''), _defineProperty(_expandColumn, \"fixed\", prevColumn ? prevColumn.fixed : null), _defineProperty(_expandColumn, \"className\", \"\".concat(prefixCls, \"-row-expand-icon-cell\")), _defineProperty(_expandColumn, \"render\", function render(_, record, index) {\n        var rowKey = getRowKey(record, index);\n        var expanded = expandedKeys.has(rowKey);\n        var recordExpandable = rowExpandable ? rowExpandable(record) : true;\n        return expandIcon({\n          prefixCls: prefixCls,\n          expanded: expanded,\n          expandable: recordExpandable,\n          record: record,\n          onExpand: onTriggerExpand\n        });\n      }), _expandColumn); // Insert expand column in the target position\n\n      var cloneColumns = baseColumns.slice();\n      cloneColumns.splice(expandColIndex, 0, expandColumn);\n      return cloneColumns;\n    }\n\n    return baseColumns;\n  }, [expandable, baseColumns, getRowKey, expandedKeys, expandIcon]);\n  var mergedColumns = React.useMemo(function () {\n    var finalColumns = withExpandColumns;\n\n    if (transformColumns) {\n      finalColumns = transformColumns(finalColumns);\n    } // Always provides at least one column for table display\n\n\n    if (!finalColumns.length) {\n      finalColumns = [{\n        render: function render() {\n          return null;\n        }\n      }];\n    }\n\n    return finalColumns;\n  }, [transformColumns, withExpandColumns]);\n  var flattenColumns = React.useMemo(function () {\n    return flatColumns(mergedColumns);\n  }, [mergedColumns]); // Only check out of production since it's waste for each render\n\n  if (process.env.NODE_ENV !== 'production') {\n    warningFixed(flattenColumns);\n  }\n\n  return [mergedColumns, flattenColumns];\n}\n\nexport default useColumns;"]},"metadata":{},"sourceType":"module"}